<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>朕 的 回 忆 录</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/custom.css">
        <link rel="stylesheet" href="theme/pagetoc.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">朕 的 回 忆 录</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p style="text-align: right; font-size: 18px; color: gray;">
  Powered By Monkey
</p>
<hr />
<p>欢迎来到这本回忆录的世界 🎉</p>
<p>大家好呀，让我们就这样交流吧！！！</p>
<h1 id="简介"><a class="header" href="#简介">简介</a></h1>
<p>欢迎阅读我的第一本 MdBook ！</p>
<p>此书将记录我的过往的二十三载我仍记得的时光,</p>
<p>所思，所学，所念，所感...</p>
<p>将记录2025年7月前</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="第一章"><a class="header" href="#第一章">第一章</a></h1>
<p>这是第一章的内容。</p>
<p>你可以在这里写你的正文。</p>
<p>时光仍热爱</p>
<p>岁月在洗礼</p>
<h1 id="第一章-1"><a class="header" href="#第一章-1">第一章</a></h1>
<p>正常的段落内容还是左对齐。</p>
<p>这是第一章的内容。</p>
<p>你可以在这里写你的正文。</p>
<p>时光仍热爱</p>
<p>岁月在洗礼</p>
<p>二十岁的我，立于田埂，</p>
<p>风吹麦浪，心事随远。</p>
<p>童年的笑声，藏在泥土，</p>
<p>父母的背影，渐行渐远。</p>
<p>清晨的露水，洗净昨日，</p>
<p>黄昏的炊烟，温暖余生。</p>
<p>梦想很轻，像村口的柳絮，</p>
<p>希望很重，像肩上的锄头。</p>
<p>岁月如歌，唱着平凡，</p>
<p>青春如水，流过指间。</p>
<p>我在时光里，学会坚韧，</p>
<p>二十岁的我，<br />
站在田埂上。</p>
<p>风吹麦浪，<br />
心事随远。</p>
<p>泥土芬芳，<br />
藏着童年。</p>
<p>父母背影，<br />
渐行渐远。</p>
<p>清晨露水，<br />
洗净昨日。</p>
<p>黄昏炊烟，<br />
温暖余生。</p>
<p>梦想很轻，<br />
像柳絮飘。</p>
<p>希望很重，<br />
压在肩头。</p>
<p>岁月如歌，<br />
唱着平凡。</p>
<p>青春如水，<br />
流过指间。<br />
<img src="favicon.ico" alt="alt text" />我在时光里，<br />
学会坚韧。</p>
<p>也在岁月中，<br />
懂得</p>
<p>也在岁月中，懂得珍惜
晨光微亮，<br />
唤醒田野。</p>
<p><img src="image.png" alt="alt text" /></p>
<p>露珠闪烁，<br />
映出希望。</p>
<div class="table-wrapper"><table><thead><tr><th>名字</th><th>年龄</th><th>城市</th></tr></thead><tbody>
<tr><td>张三</td><td>25</td><td>北京</td></tr>
<tr><td>李四</td><td>30</td><td>上海</td></tr>
</tbody></table>
</div>
<p>小路蜿蜒，<br />
通向远方。</p>
<p>鸟鸣清脆，<br />
伴我成长。</p>
<p>麦浪翻滚，<br />
心事随风。</p>
<p>村口老树，<br />
见证流年。</p>
<p>炊烟袅袅，<br />
温暖黄昏。</p>
<p>星光点点，<br />
照亮归途。</p>
<p>岁月如歌，<br />
青春如水。</p>
<p>我在时光，<br />
学会</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="3-博客阅读指南"><a class="header" href="#3-博客阅读指南">3. 博客阅读指南</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="-4-梦想清单--dream-list"><a class="header" href="#-4-梦想清单--dream-list">⭐ 4. 梦想清单 | Dream List</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="5-人生规划--life-planning"><a class="header" href="#5-人生规划--life-planning">5. 人生规划 | Life Planning</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="6-年度计划--year-plan"><a class="header" href="#6-年度计划--year-plan">6. 年度计划 | Year Plan</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p>小学</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="今日无事戒欲省身"><a class="header" href="#今日无事戒欲省身">今日无事，戒欲省身！</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="个人感触--feelings"><a class="header" href="#个人感触--feelings">个人感触 | Feelings</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="胡言乱语--insanes"><a class="header" href="#胡言乱语--insanes">胡言乱语 | Insanes</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p>人无法同时拥有青春和对青春的感受</p>
<p>突然想到</p>
<p>小学六年级和大一只差六岁</p>
<p>初三和大四也只差六岁</p>
<p>但这六岁感觉把半辈子过完了...</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="小说--novels"><a class="header" href="#小说--novels">小说 | Novels</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="误闯天家"><a class="header" href="#误闯天家">误闯天家!</a></h1>
<p>细数18岁及过往岁月，心比天高，狂妄过，自信过，或有失意，亦或有悔过 ... 等等吧，就不一一细说</p>
<p>皆般过往，大多已如梦幻泡影，虚幻，不真实... 那些当时以为会烙印在脑海深处、足以与岁月同长的瞬间，也于时间消散。</p>
<p>如今能有所存续的，我都会陆续写入这本book里面，算是了却。</p>
<p>为什么标题是误闯天家呢，这就要说起我18岁直至今日的见闻</p>
<p>高考结束那年我刚好18岁</p>
<p>成绩对我来说也可以了，过了当时的一本线</p>
<p>自我觉得蛮幸运的</p>
<p>录取专业是数学</p>
<p>当时觉得不过尔尔（PS:只是当时）</p>
<p>如今再看，这便是我的第一次<strong>误闯天家</strong></p>
<p>第二次便是24年4月，人工智能的培训班</p>
<p>也是此次经历，让我<strong>看到</strong>了更多</p>
<p><a href="Trespassed/853A95C3E2122C178F89FE0AF8B261C1.jpg">点开我，里面藏着岁月</a></p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="分析引理"><a class="header" href="#分析引理">分析引理</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="第一章-分析引论"><a class="header" href="#第一章-分析引论">第一章 分析引论</a></h1>
<h2 id="1-实数"><a class="header" href="#1-实数">§1. 实数</a></h2>
<h3 id="1-数学归纳法"><a class="header" href="#1-数学归纳法">1. 数学归纳法</a></h3>
<p>数学归纳法用于证明某命题对所有正整数 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 都成立，只需两步：</p>
<ol>
<li>验证 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 时命题成立。</li>
<li>假设命题对某个 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 成立，则证明它对 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 也成立。</li>
</ol>
<p>若两步都成立，则命题对所有正整数 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 都成立。</p>
<hr />
<h3 id="2-分割"><a class="header" href="#2-分割">2. 分割</a></h3>
<p>设有理数被分成两个非空集合 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 与 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>，满足：</p>
<ol>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 与 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 均非空；</li>
<li>每个有理数必属于且仅属于其中一类；</li>
<li>若 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 且 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>，则 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>。</li>
</ol>
<p>这样的划分称为<strong>分割</strong>。分割可能产生两种情况：</p>
<ul>
<li><strong>有理数</strong>：若下类 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 有最大数或上类 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 有最小数，则此最大（或最小）数为一个有理数。</li>
<li><strong>无理数</strong>：若 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 无最大数且 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 无最小数，则分割确定一个无理数。</li>
</ul>
<hr />
<h3 id="3-绝对值或模"><a class="header" href="#3-绝对值或模">3. 绝对值（或模）</a></h3>
<p>实数 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 的绝对值定义为：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">x</span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>对于任意实数 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>，有以下不等式成立：</p>
<ol>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，且 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6684em;vertical-align:-0.024em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>；</p>
</li>
<li>
<p>三角不等式：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣.</span></span></span></span></span></p>
</li>
</ol>
<hr />
<h3 id="4-上确界和下确界"><a class="header" href="#4-上确界和下确界">4. 上确界和下确界</a></h3>
<p>设 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span></span></span></span> 为实数的有界集合。</p>
<h4 id="下确界infimum"><a class="header" href="#下确界infimum">下确界（infimum）</a></h4>
<p>若：</p>
<ol>
<li>对任意 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>，有 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>；</li>
<li>对任意 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">ε</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，存在 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.791em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>，使 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.791em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ε</span></span></span></span>；</li>
</ol>
<p>则 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">in<span style="margin-right:0.07778em;">f</span></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span></span></span></span> 称为集合 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 的<strong>下确界</strong>。</p>
<h4 id="上确界supremum"><a class="header" href="#上确界supremum">上确界（supremum）</a></h4>
<p>若：</p>
<ol>
<li>对任意 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>，有 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>；</li>
<li>对任意 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">ε</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，存在 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.791em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>，使 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.791em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ε</span></span></span></span>；</li>
</ol>
<p>则 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">sup</span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span></span></span></span> 称为集合 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 的<strong>上确界</strong>。</p>
<p>特殊情况：</p>
<ul>
<li>若 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 下方无界，记 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">in<span style="margin-right:0.07778em;">f</span></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">∞</span></span></span></span>；</li>
<li>若 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 上方无界，记 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">sup</span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span><span class="mord">∞</span></span></span></span>。</li>
</ul>
<hr />
<h3 id="5-绝对误差与相对误差"><a class="header" href="#5-绝对误差与相对误差">5. 绝对误差与相对误差</a></h3>
<p>设 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>（<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>）为精确值，<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 为近似值。</p>
<ul>
<li>
<p><strong>绝对误差</strong>：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">∣</span></span></span></span></span></p>
</li>
<li>
<p><strong>相对误差</strong>：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2963em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
</ul>
<p>如果 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 的绝对误差不超过第 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 个有效数字对应位的一半，则称 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 有 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 位有效数字。</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="数学分析--mathematical-analysis"><a class="header" href="#数学分析--mathematical-analysis">数学分析 | Mathematical Analysis</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="高等代数--advanced-algebra"><a class="header" href="#高等代数--advanced-algebra">高等代数 | Advanced Algebra</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="解析几何--analytic-geometry"><a class="header" href="#解析几何--analytic-geometry">解析几何 | Analytic Geometry</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="概率论与数理统计--probability-theory-and-mathematical-statistics"><a class="header" href="#概率论与数理统计--probability-theory-and-mathematical-statistics">概率论与数理统计 | Probability Theory and Mathematical Statistics</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="常微分方程--ordinary-differential-equations"><a class="header" href="#常微分方程--ordinary-differential-equations">常微分方程 | Ordinary Differential Equations</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="复变函数论--complex-analysis"><a class="header" href="#复变函数论--complex-analysis">复变函数论 | Complex Analysis</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="实变函数与泛函分析基础--real-analysis-and-introduction-to-functional-analysis"><a class="header" href="#实变函数与泛函分析基础--real-analysis-and-introduction-to-functional-analysis">实变函数与泛函分析基础 | Real Analysis and Introduction to Functional Analysis</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="近世代数--abstract-algebra"><a class="header" href="#近世代数--abstract-algebra">近世代数 | Abstract Algebra</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p>好的！以下是一篇<strong>全面总结 Pandas 和 NumPy 所有知识点</strong>的博客文章，适合初学者系统学习，也适合进阶者查漏补缺。文章将分为多个部分，涵盖基础知识、高级技巧、常用函数、实际案例等，结构清晰、内容丰富，可直接发布到博客。</p>
<hr />
<h1 id="-python-数据分析宝典numpy-和-pandas-全面知识点总结"><a class="header" href="#-python-数据分析宝典numpy-和-pandas-全面知识点总结">📚 Python 数据分析宝典：NumPy 和 Pandas 全面知识点总结</a></h1>
<blockquote>
<p>作者：KEY mon｜更新时间：2025-08-01
关键词：NumPy、Pandas、数据分析、Python、数据清洗、数组、DataFrame</p>
</blockquote>
<hr />
<h2 id="前言"><a class="header" href="#前言">前言</a></h2>
<p>在数据科学和分析的世界里，<strong>NumPy 和 Pandas 是两把瑞士军刀</strong>。一个提供强大的数值计算能力，一个打造高效灵活的数据操作框架。如果你掌握了它们，就已经站在数据分析的门槛之内。本文将带你<strong>全面系统地学习 NumPy 和 Pandas 的所有核心知识点</strong>，帮助你打好数据分析的坚实基础。</p>
<hr />
<h2 id="-numpy-篇高性能数值计算库"><a class="header" href="#-numpy-篇高性能数值计算库">🧠 NumPy 篇：高性能数值计算库</a></h2>
<h3 id="一numpy-简介"><a class="header" href="#一numpy-简介">一、NumPy 简介</a></h3>
<ul>
<li>
<p>全称：<strong>Numerical Python</strong></p>
</li>
<li>
<p>核心特点：</p>
<ul>
<li>支持多维数组（<code>ndarray</code>）</li>
<li>计算速度远快于原生 Python 列表</li>
<li>丰富的数学函数库</li>
</ul>
</li>
</ul>
<h3 id="二核心数据结构ndarray"><a class="header" href="#二核心数据结构ndarray">二、核心数据结构：<code>ndarray</code></a></h3>
<pre><code class="language-python">import numpy as np
a = np.array([[1, 2, 3], [4, 5, 6]])
</code></pre>
<ul>
<li>
<p>属性总结：</p>
<div class="table-wrapper"><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody>
<tr><td><code>ndim</code></td><td>维度</td></tr>
<tr><td><code>shape</code></td><td>各维度大小</td></tr>
<tr><td><code>size</code></td><td>元素总数</td></tr>
<tr><td><code>dtype</code></td><td>数据类型</td></tr>
<tr><td><code>itemsize</code></td><td>每个元素所占字节数</td></tr>
<tr><td><code>nbytes</code></td><td>所有元素占字节数</td></tr>
</tbody></table>
</div></li>
</ul>
<h3 id="三创建数组的常用方法"><a class="header" href="#三创建数组的常用方法">三、创建数组的常用方法</a></h3>
<pre><code class="language-python">np.zeros((3, 4))
np.ones((2, 2))
np.eye(3)
np.arange(0, 10, 2)
np.linspace(0, 1, 5)
np.random.rand(3, 3)
np.full((2, 2), 7)
</code></pre>
<h3 id="四数组索引与切片"><a class="header" href="#四数组索引与切片">四、数组索引与切片</a></h3>
<ul>
<li>一维数组：<code>a[0]</code>, <code>a[1:4]</code></li>
<li>多维数组：<code>a[1, 2]</code>, <code>a[:, 0]</code></li>
<li>条件筛选：<code>a[a &gt; 3]</code></li>
<li>花式索引：<code>a[[0, 2]]</code>, <code>a[[True, False, True]]</code></li>
</ul>
<h3 id="五常用数组操作"><a class="header" href="#五常用数组操作">五、常用数组操作</a></h3>
<div class="table-wrapper"><table><thead><tr><th>操作</th><th>示例</th></tr></thead><tbody>
<tr><td>转置</td><td><code>a.T</code></td></tr>
<tr><td>轴变换</td><td><code>np.swapaxes(a, 0, 1)</code></td></tr>
<tr><td>改变形状</td><td><code>a.reshape(3, 2)</code></td></tr>
<tr><td>合并数组</td><td><code>np.concatenate</code></td></tr>
<tr><td>拆分数组</td><td><code>np.split</code>, <code>hsplit</code></td></tr>
<tr><td>去重</td><td><code>np.unique(a)</code></td></tr>
<tr><td>排序</td><td><code>np.sort(a)</code></td></tr>
</tbody></table>
</div>
<h3 id="六数学函数与统计函数"><a class="header" href="#六数学函数与统计函数">六、数学函数与统计函数</a></h3>
<pre><code class="language-python">np.sum(a)
np.mean(a)
np.std(a)
np.var(a)
np.min(a)
np.max(a)
np.argmin(a)
np.argmax(a)
</code></pre>
<h3 id="七线性代数numpylinalg"><a class="header" href="#七线性代数numpylinalg">七、线性代数（<code>numpy.linalg</code>）</a></h3>
<pre><code class="language-python">np.dot(a, b)
np.linalg.inv(a)
np.linalg.det(a)
np.linalg.eig(a)
</code></pre>
<h3 id="八广播机制"><a class="header" href="#八广播机制">八、广播机制</a></h3>
<pre><code class="language-python">a = np.array([1, 2, 3])
b = 2
c = a + b  # 自动广播
</code></pre>
<hr />
<h2 id="-pandas-篇数据分析的核心库"><a class="header" href="#-pandas-篇数据分析的核心库">📊 Pandas 篇：数据分析的核心库</a></h2>
<h3 id="一pandas-简介"><a class="header" href="#一pandas-简介">一、Pandas 简介</a></h3>
<ul>
<li>
<p>两个核心数据结构：</p>
<ul>
<li><code>Series</code>: 一维带标签的数组</li>
<li><code>DataFrame</code>: 二维表格型数据结构</li>
</ul>
</li>
</ul>
<h3 id="二创建数据结构"><a class="header" href="#二创建数据结构">二、创建数据结构</a></h3>
<pre><code class="language-python">import pandas as pd
s = pd.Series([1, 2, 3], index=['a', 'b', 'c'])
df = pd.DataFrame({
    'name': ['Alice', 'Bob'],
    'age': [25, 30]
})
</code></pre>
<h3 id="三series-操作"><a class="header" href="#三series-操作">三、Series 操作</a></h3>
<ul>
<li>访问：<code>s['a']</code>, <code>s[0]</code></li>
<li>切片：<code>s['a':'c']</code></li>
<li>数学操作：<code>s + 1</code>, <code>s.mean()</code></li>
<li>判断空值：<code>s.isnull()</code>, <code>s.notnull()</code></li>
</ul>
<h3 id="四dataframe-操作"><a class="header" href="#四dataframe-操作">四、DataFrame 操作</a></h3>
<h4 id="1-查看结构"><a class="header" href="#1-查看结构">1. 查看结构</a></h4>
<pre><code class="language-python">df.head()
df.tail()
df.info()
df.describe()
df.columns
df.index
</code></pre>
<h4 id="2-访问数据"><a class="header" href="#2-访问数据">2. 访问数据</a></h4>
<pre><code class="language-python">df['name']
df[['name', 'age']]
df.loc[0]          # 按标签访问
df.iloc[0]         # 按位置访问
df.at[0, 'name']
df.iat[0, 1]
</code></pre>
<h4 id="3-增删改查"><a class="header" href="#3-增删改查">3. 增删改查</a></h4>
<pre><code class="language-python">df['score'] = [90, 85]       # 增加列
df.drop(columns='score')     # 删除列
df.drop(index=1)             # 删除行
df.rename(columns={'name': 'Name'})
</code></pre>
<h4 id="4-条件筛选与布尔索引"><a class="header" href="#4-条件筛选与布尔索引">4. 条件筛选与布尔索引</a></h4>
<pre><code class="language-python">df[df['age'] &gt; 25]
df[(df['age'] &gt; 20) &amp; (df['name'] == 'Bob')]
</code></pre>
<h3 id="五缺失值处理"><a class="header" href="#五缺失值处理">五、缺失值处理</a></h3>
<pre><code class="language-python">df.isnull()
df.fillna(0)
df.dropna()
</code></pre>
<h3 id="六数据转换与映射"><a class="header" href="#六数据转换与映射">六、数据转换与映射</a></h3>
<pre><code class="language-python">df['age'].astype(int)
df['name'].str.upper()
df['score'] = df['score'].apply(lambda x: x * 1.1)
</code></pre>
<h3 id="七数据合并与拼接"><a class="header" href="#七数据合并与拼接">七、数据合并与拼接</a></h3>
<pre><code class="language-python">pd.concat([df1, df2], axis=0)  # 按行拼接
pd.concat([df1, df2], axis=1)  # 按列拼接
pd.merge(df1, df2, on='id', how='inner')
</code></pre>
<h3 id="八分组与聚合"><a class="header" href="#八分组与聚合">八、分组与聚合</a></h3>
<pre><code class="language-python">df.groupby('name').mean()
df.groupby('name')['score'].agg(['mean', 'max'])
</code></pre>
<h3 id="九排序与去重"><a class="header" href="#九排序与去重">九、排序与去重</a></h3>
<pre><code class="language-python">df.sort_values('age')
df.drop_duplicates()
</code></pre>
<h3 id="十时间序列处理可选"><a class="header" href="#十时间序列处理可选">十、时间序列处理（可选）</a></h3>
<pre><code class="language-python">pd.to_datetime(df['date'])
df.set_index('date', inplace=True)
df.resample('M').sum()  # 按月重采样
</code></pre>
<hr />
<h2 id="-numpy--pandas-实战技巧"><a class="header" href="#-numpy--pandas-实战技巧">🛠️ NumPy + Pandas 实战技巧</a></h2>
<div class="table-wrapper"><table><thead><tr><th>技巧</th><th>说明</th></tr></thead><tbody>
<tr><td>用 <code>isin()</code> 进行多条件过滤</td><td><code>df[df['name'].isin(['Alice'])]</code></td></tr>
<tr><td>多重索引（MultiIndex）</td><td><code>df.set_index(['col1', 'col2'])</code></td></tr>
<tr><td>apply vs map vs applymap</td><td>行/列/元素级操作</td></tr>
<tr><td>快速统计类别数量</td><td><code>df['gender'].value_counts()</code></td></tr>
<tr><td>样本抽样</td><td><code>df.sample(n=5)</code></td></tr>
<tr><td>查询空值行</td><td><code>df[df.isnull().any(axis=1)]</code></td></tr>
</tbody></table>
</div>
<hr />
<h2 id="-总结"><a class="header" href="#-总结">🔚 总结</a></h2>
<blockquote>
<p>NumPy 是你高效处理矩阵运算和数值分析的工具，Pandas 则是你操控结构化数据、做数据清洗、转化、分析的得力助手。</p>
</blockquote>
<p>建议学习路线：</p>
<ol>
<li><strong>先掌握 NumPy 的数组基础</strong></li>
<li><strong>再深入 Pandas 的 DataFrame 处理技巧</strong></li>
<li><strong>最后结合实际数据案例实战练习（如 Titanic 数据集）</strong></li>
</ol>
<hr />
<h2 id="-附录资源推荐"><a class="header" href="#-附录资源推荐">📦 附录资源推荐</a></h2>
<ul>
<li>NumPy 官方文档：<a href="https://numpy.org/doc/">https://numpy.org/doc/</a></li>
<li>Pandas 官方文档：<a href="https://pandas.pydata.org/docs/">https://pandas.pydata.org/docs/</a></li>
<li>免费项目练习平台：Kaggle（<a href="https://www.kaggle.com/%EF%BC%89">https://www.kaggle.com/）</a></li>
</ul>
<hr />
<p>如果你需要我为这篇文章：</p>
<ul>
<li>制作 Markdown 博客格式 ✔️</li>
<li>添加图示或可视化案例 ✔️</li>
<li>加上中文注释版代码样例 ✔️</li>
<li>拆分成多个系列文章 ✔️</li>
</ul>
<p>随时告诉我，我可以继续帮你完善这篇“数据分析百科全书”。</p>
<p>是否需要我将这篇转为 Markdown 或拆分发布格式？</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="机器学习"><a class="header" href="#机器学习">机器学习</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="-k近邻算法knn入门实战一步步看懂分类原理"><a class="header" href="#-k近邻算法knn入门实战一步步看懂分类原理">🤖 K近邻算法（KNN）入门实战：一步步看懂分类原理</a></h1>
<blockquote>
<p><em>“KNN 是最简单的机器学习算法之一，但背后藏着直觉的力量。”</em></p>
</blockquote>
<hr />
<h2 id="-什么是-k-近邻算法k-nearest-neighbors"><a class="header" href="#-什么是-k-近邻算法k-nearest-neighbors">🧠 什么是 K 近邻算法（K-Nearest Neighbors）？</a></h2>
<p><strong>K 近邻算法（KNN）</strong> 是一种基本的、易于理解的<strong>监督学习算法</strong>，用于<strong>分类</strong>或<strong>回归</strong>问题。</p>
<p>其核心思想是：</p>
<blockquote>
<p><strong>“看一个点属于哪个类别，就看它周围最近的 K 个点，谁多就投谁。”</strong></p>
</blockquote>
<p>就像你搬进一个新社区，如果你身边大多数邻居是程序员，那你也可能是程序员。</p>
<hr />
<h2 id="-示例代码实战"><a class="header" href="#-示例代码实战">📦 示例代码实战</a></h2>
<p>我们通过一个非常简洁的代码片段来理解 KNN 的运行机制。</p>
<pre><code class="language-python">from sklearn.neighbors import KNeighborsClassifier

# 特征数据（二维数组，每个样本只有一个特征）
x = [[0], [1], [2], [3]]
# 标签数据（每个样本的类别）
y = [0, 0, 1, 1]

# 实例化模型，设置 k=1（即最近一个邻居）
estimator = KNeighborsClassifier(n_neighbors=1)

# 拟合模型（训练过程）
estimator.fit(x, y)
</code></pre>
<p>这段代码的含义如下：</p>
<div class="table-wrapper"><table><thead><tr><th>项目</th><th>含义</th></tr></thead><tbody>
<tr><td><code>x</code></td><td>表示特征向量：4 个点，每个点只有一个数值特征</td></tr>
<tr><td><code>y</code></td><td>表示每个点的标签，0 或 1，代表不同类别</td></tr>
<tr><td><code>n_neighbors=1</code></td><td>意味着我们只看离目标点最近的一个训练点</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="-预测分析"><a class="header" href="#-预测分析">🔍 预测分析</a></h2>
<p>接下来我们用这个模型来进行预测：</p>
<pre><code class="language-python">estimator.predict([[1]])
# 输出：array([0])
</code></pre>
<h3 id="-分析"><a class="header" href="#-分析">✅ 分析：</a></h3>
<ul>
<li>输入 <code>[1]</code> 正好是训练集中一个点，对应标签是 <code>0</code>，因此预测为 <code>0</code>。</li>
</ul>
<hr />
<pre><code class="language-python">estimator.predict([[0.5]])
# 输出：array([0])
</code></pre>
<h3 id="-分析-1"><a class="header" href="#-分析-1">✅ 分析：</a></h3>
<ul>
<li><code>0.5</code> 离 <code>0</code> 的距离是 <code>0.5</code></li>
<li>离 <code>1</code> 的距离也是 <code>0.5</code></li>
<li>都一样近，但我们设置了 <code>k=1</code>，scikit-learn 默认按顺序选最近的一个，取 <code>0</code> 对应的标签。</li>
</ul>
<hr />
<pre><code class="language-python">estimator.predict([[1.5]])
# 输出：array([0])
</code></pre>
<h3 id="-分析-2"><a class="header" href="#-分析-2">✅ 分析：</a></h3>
<ul>
<li>离 1 的距离是 <code>0.5</code></li>
<li>离 2 的距离也是 <code>0.5</code></li>
<li>最近的仍是 <code>[1]</code>（因为排序后先到它），所以预测为 <code>[1]</code> 对应的标签：<code>0</code></li>
</ul>
<hr />
<pre><code class="language-python">estimator.predict([[1.6]])
# 输出：array([1])
</code></pre>
<h3 id="-分析-3"><a class="header" href="#-分析-3">✅ 分析：</a></h3>
<ul>
<li>离 <code>[2]</code> 的距离是 <code>0.4</code></li>
<li>离 <code>[1]</code> 的距离是 <code>0.6</code></li>
<li>更靠近 <code>[2]</code>，其标签为 <code>1</code>，所以预测结果为 <code>1</code></li>
</ul>
<hr />
<h2 id="-knn-的核心机制解析"><a class="header" href="#-knn-的核心机制解析">📊 KNN 的核心机制解析</a></h2>
<h3 id="-特征空间与距离度量"><a class="header" href="#-特征空间与距离度量">📍 特征空间与距离度量</a></h3>
<p>KNN 的核心是：</p>
<blockquote>
<p><strong>在特征空间中找到最近的 K 个点，用它们的标签来投票。</strong></p>
</blockquote>
<p>常用的距离度量：</p>
<ul>
<li>欧几里得距离（默认）</li>
<li>曼哈顿距离</li>
<li>闵可夫斯基距离</li>
</ul>
<h3 id="-举例说明欧几里得距离"><a class="header" href="#-举例说明欧几里得距离">🧮 举例说明欧几里得距离：</a></h3>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">距离</span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2561em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9439em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119 c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120 c340,-704.7,510.7,-1060.3,512,-1067 l0 -0 c4.7,-7.3,11,-11,19,-11 H40000v40H1012.3 s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232 c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1 s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26 c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>比如：</p>
<ul>
<li><code>dist(1.6, 2) = 0.4</code></li>
<li><code>dist(1.6, 1) = 0.6</code></li>
</ul>
<p>所以 1.6 更靠近 2。</p>
<hr />
<h2 id="-k-的选取对结果的影响"><a class="header" href="#-k-的选取对结果的影响">🎯 K 的选取对结果的影响</a></h2>
<div class="table-wrapper"><table><thead><tr><th>K 值</th><th>特征</th></tr></thead><tbody>
<tr><td>K=1</td><td>灵敏、但容易受噪声影响</td></tr>
<tr><td>K 较大</td><td>平滑、但可能过度泛化</td></tr>
</tbody></table>
</div>
<p>通常会使用交叉验证等方式选择一个合适的 K 值。</p>
<hr />
<h2 id="-总结knn-是这样工作的"><a class="header" href="#-总结knn-是这样工作的">🔚 总结：KNN 是这样工作的</a></h2>
<p>✔️ KNN 不需要训练模型，<strong>训练过程就是记住数据</strong>
✔️ 预测时直接计算距离，找最近的邻居来“投票”
✔️ 适合数据量不大、维度较低的情况
✔️ 是很多其他复杂算法的启蒙基础</p>
<hr />
<h2 id="-拓展学习建议"><a class="header" href="#-拓展学习建议">📎 拓展学习建议：</a></h2>
<ul>
<li>尝试在二维平面上用图像画出训练点与测试点的分布</li>
<li>尝试将 <code>n_neighbors</code> 改为 3 或 5，观察预测结果变化</li>
<li>试试 <code>weights='distance'</code> 参数，改为距离加权投票</li>
</ul>
<hr />
<h2 id="-附录完整代码"><a class="header" href="#-附录完整代码">📁 附录：完整代码</a></h2>
<pre><code class="language-python">from sklearn.neighbors import KNeighborsClassifier

x = [[0], [1], [2], [3]]
y = [0, 0, 1, 1]

estimator = KNeighborsClassifier(n_neighbors=1)
estimator.fit(x, y)

print(estimator.predict([[1]]))     # array([0])
print(estimator.predict([[0.5]]))   # array([0])
print(estimator.predict([[1.5]]))   # array([0])
print(estimator.predict([[1.6]]))   # array([1])
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="-距离度量知识体系全解从理论到代码实现"><a class="header" href="#-距离度量知识体系全解从理论到代码实现">📏 距离度量知识体系全解：从理论到代码实现</a></h1>
<h2 id="-引言"><a class="header" href="#-引言">✨ 引言</a></h2>
<p>在机器学习、数据分析、推荐系统和自然语言处理等领域，我们常常需要评估两个样本之间的<strong>相似度或差异性</strong>。而这正是<strong>距离度量</strong>（Distance Metrics）大显身手的地方。</p>
<p>本文将系统整理几种常见的距离度量方法，包括其<strong>数学原理、适用场景</strong>与<strong>Python 代码实现</strong>，帮助你建立一套完整的距离度量知识体系。</p>
<hr />
<h2 id="-1-距离度量概述"><a class="header" href="#-1-距离度量概述">🧠 1. 距离度量概述</a></h2>
<p>距离度量，是一种用来衡量两个点或对象在空间中差异性的数学方法，常用于：</p>
<ul>
<li>🔍 数据挖掘（如聚类）</li>
<li>🤖 机器学习（如KNN）</li>
<li>📊 数据可视化（如t-SNE）</li>
<li>📦 推荐系统（如基于内容的推荐）</li>
</ul>
<hr />
<h2 id="-2-常见距离度量方法"><a class="header" href="#-2-常见距离度量方法">📐 2. 常见距离度量方法</a></h2>
<h3 id="21-欧几里得距离euclidean-distance"><a class="header" href="#21-欧几里得距离euclidean-distance">2.1 欧几里得距离（Euclidean Distance）</a></h3>
<p>这是我们最熟悉的几何距离，表示两点间的最短直线距离。</p>
<h4 id="公式"><a class="header" href="#公式">公式：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1813em;vertical-align:-1.3021em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791em;"><span class="svg-align" style="top:-5.1413em;"><span class="pstrut" style="height:5.1413em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391em;"><span class="pstrut" style="height:5.1413em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2213em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='3.2213em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H40000040 H742v3087l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1 h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170 c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span></span></span></span></span></p>
<h4 id="python-实现"><a class="header" href="#python-实现">Python 实现：</a></h4>
<pre><code class="language-python">import numpy as np

def euclidean_distance(x, y):
    return np.sqrt(np.sum((x - y) ** 2))

euclidean_distance(np.array([1, 1]), np.array([2, 2]))  # 输出：1.4142
</code></pre>
<h4 id="应用场景"><a class="header" href="#应用场景">应用场景：</a></h4>
<ul>
<li>连续型特征</li>
<li>KNN、KMeans 等算法的默认距离</li>
</ul>
<hr />
<h3 id="22-曼哈顿距离manhattan-distance"><a class="header" href="#22-曼哈顿距离manhattan-distance">2.2 曼哈顿距离（Manhattan Distance）</a></h3>
<p>也称为“城市街区距离”，只能沿水平或垂直方向移动。</p>
<h4 id="公式-1"><a class="header" href="#公式-1">公式：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9535em;vertical-align:-1.3021em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p>
<h4 id="python-实现-1"><a class="header" href="#python-实现-1">Python 实现：</a></h4>
<pre><code class="language-python">def manhattan_distance(x, y):
    return np.sum(np.abs(x - y))

manhattan_distance(np.array([1, 1]), np.array([2, 2]))  # 输出：2
</code></pre>
<h4 id="应用场景-1"><a class="header" href="#应用场景-1">应用场景：</a></h4>
<ul>
<li>网格地图、路径规划</li>
<li>离散数据上的分类问题</li>
</ul>
<hr />
<h3 id="23-切比雪夫距离chebyshev-distance"><a class="header" href="#23-切比雪夫距离chebyshev-distance">2.3 切比雪夫距离（Chebyshev Distance）</a></h3>
<p>关注各维度上的<strong>最大差值</strong>。</p>
<h4 id="公式-2"><a class="header" href="#公式-2">公式：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mclose">)</span></span></span></span></span></p>
<h4 id="python-实现-2"><a class="header" href="#python-实现-2">Python 实现：</a></h4>
<pre><code class="language-python">def chebyshev_distance(x, y):
    return np.max(np.abs(x - y))

chebyshev_distance(np.array([1, 1]), np.array([2, 2]))  # 输出：1
</code></pre>
<h4 id="应用场景-2"><a class="header" href="#应用场景-2">应用场景：</a></h4>
<ul>
<li>机器人路径规划</li>
<li>象棋棋盘距离计算</li>
</ul>
<hr />
<h3 id="24-闵可夫斯基距离minkowski-distance"><a class="header" href="#24-闵可夫斯基距离minkowski-distance">2.4 闵可夫斯基距离（Minkowski Distance）</a></h3>
<p>是欧几里得和曼哈顿距离的<strong>统一推广形式</strong>。</p>
<h4 id="公式-3"><a class="header" href="#公式-3">公式：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.33em;vertical-align:-1.3021em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:2.0279em;"><span style="top:-4.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1/</span><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h4 id="python-实现-3"><a class="header" href="#python-实现-3">Python 实现：</a></h4>
<pre><code class="language-python">def minkowski_distance(x, y, p=3):
    return np.power(np.sum(np.abs(x - y) ** p), 1/p)

minkowski_distance(np.array([1, 1]), np.array([2, 2]), p=3)
</code></pre>
<h4 id="应用场景-3"><a class="header" href="#应用场景-3">应用场景：</a></h4>
<ul>
<li>可调节灵活性（通过调整 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> 值）</li>
<li>特征之间尺度差异不大时使用</li>
</ul>
<hr />
<h3 id="25-汉明距离hamming-distance"><a class="header" href="#25-汉明距离hamming-distance">2.5 汉明距离（Hamming Distance）</a></h3>
<p>用于衡量<strong>两个等长字符串或向量</strong>之间不一致的位数。</p>
<h4 id="示例"><a class="header" href="#示例">示例：</a></h4>
<pre><code>"1011101" 与 "1001001" 的汉明距离为 2
</code></pre>
<h4 id="python-实现-4"><a class="header" href="#python-实现-4">Python 实现：</a></h4>
<pre><code class="language-python">def hamming_distance(x, y):
    return np.sum(np.array(list(x)) != np.array(list(y)))

hamming_distance("1011101", "1001001")  # 输出：2
</code></pre>
<h4 id="应用场景-4"><a class="header" href="#应用场景-4">应用场景：</a></h4>
<ul>
<li>基因序列比对</li>
<li>错误检测编码</li>
<li>文本相似度分析</li>
</ul>
<hr />
<h3 id="26-标准化欧几里得距离standardized-euclidean-distance"><a class="header" href="#26-标准化欧几里得距离standardized-euclidean-distance">2.6 标准化欧几里得距离（Standardized Euclidean Distance）</a></h3>
<p>考虑了每个特征的<strong>标准差</strong>（避免高方差特征主导距离）。</p>
<h4 id="公式-4"><a class="header" href="#公式-4">公式：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1839em;vertical-align:-1.3021em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8818em;"><span class="svg-align" style="top:-5.1439em;"><span class="pstrut" style="height:5.1439em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.654em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.8418em;"><span class="pstrut" style="height:5.1439em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2239em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='3.2239em' viewBox='0 0 400000 3223' preserveAspectRatio='xMinYMin slice'><path d='M702 80H40000040 H742v3089l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1 h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170 c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span></span></span></span></span></p>
<h4 id="python-实现-5"><a class="header" href="#python-实现-5">Python 实现：</a></h4>
<pre><code class="language-python">def standardized_euclidean(x, y, std):
    return np.sqrt(np.sum(((x - y) / std) ** 2))

std = np.std([1, 2, 3, 4], ddof=1)
standardized_euclidean(np.array([1, 1]), np.array([2, 2]), std)
</code></pre>
<h4 id="应用场景-5"><a class="header" href="#应用场景-5">应用场景：</a></h4>
<ul>
<li>不同量纲/尺度的特征比较（如身高 vs 收入）</li>
</ul>
<hr />
<h3 id="27-加权欧几里得距离weighted-euclidean-distance"><a class="header" href="#27-加权欧几里得距离weighted-euclidean-distance">2.7 加权欧几里得距离（Weighted Euclidean Distance）</a></h3>
<p>为每个特征引入<strong>重要性权重</strong>。</p>
<h4 id="公式-5"><a class="header" href="#公式-5">公式：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1813em;vertical-align:-1.3021em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8791em;"><span class="svg-align" style="top:-5.1413em;"><span class="pstrut" style="height:5.1413em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.8391em;"><span class="pstrut" style="height:5.1413em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.2213em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='3.2213em' viewBox='0 0 400000 3221' preserveAspectRatio='xMinYMin slice'><path d='M702 80H40000040 H742v3087l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1 h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170 c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span></span></span></span></span></p>
<h4 id="python-实现-6"><a class="header" href="#python-实现-6">Python 实现：</a></h4>
<pre><code class="language-python">def weighted_euclidean(x, y, weights):
    return np.sqrt(np.sum(weights * (x - y) ** 2))

weighted_euclidean(np.array([1, 2]), np.array([2, 3]), np.array([0.7, 0.3]))
</code></pre>
<h4 id="应用场景-6"><a class="header" href="#应用场景-6">应用场景：</a></h4>
<ul>
<li>用户行为权重建模</li>
<li>特征工程阶段重构特征距离</li>
</ul>
<hr />
<h3 id="28-余弦距离cosine-distance"><a class="header" href="#28-余弦距离cosine-distance">2.8 余弦距离（Cosine Distance）</a></h3>
<p>计算的是向量间<strong>夹角的余弦值</strong>，关注的是<strong>方向而非大小</strong>。</p>
<h4 id="公式相似度"><a class="header" href="#公式相似度">公式（相似度）：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣∣</span><span class="mord mathnormal">x</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∣∣</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h4 id="python-实现-7"><a class="header" href="#python-实现-7">Python 实现：</a></h4>
<pre><code class="language-python">from numpy.linalg import norm

def cosine_similarity(x, y):
    return np.dot(x, y) / (norm(x) * norm(y))

1 - cosine_similarity(np.array([1, 1]), np.array([2, 2]))  # 余弦“距离”
</code></pre>
<h4 id="应用场景-7"><a class="header" href="#应用场景-7">应用场景：</a></h4>
<ul>
<li>文本相似度（TF-IDF）</li>
<li>用户推荐系统（协同过滤）</li>
<li>高维稀疏数据（如词袋模型）</li>
</ul>
<hr />
<p>以下是你请求补充的两种常用距离度量方法——<strong>杰卡德距离（Jaccard Distance）</strong> 和 <strong>马氏距离（Mahalanobis Distance）</strong> 的详细介绍，已保持风格一致，并附带 Python 实现与应用场景说明：</p>
<hr />
<h3 id="29-杰卡德距离jaccard-distance"><a class="header" href="#29-杰卡德距离jaccard-distance">2.9 杰卡德距离（Jaccard Distance）</a></h3>
<p>杰卡德距离用于衡量两个集合之间的差异，常用于离散特征、集合或标签的相似性计算。</p>
<h4 id="-定义"><a class="header" href="#-定义">📌 定义：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Jaccard Similarity</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Jaccard Distance</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Jaccard Similarity</span></span></span></span></span></span></p>
<h4 id="-示例"><a class="header" href="#-示例">🧪 示例：</a></h4>
<p>集合 A = {1, 2, 3}，集合 B = {2, 3, 4}
交集：{2,3}，并集：{1,2,3,4}
相似度 = 2 / 4 = 0.5
距离 = 1 - 0.5 = 0.5</p>
<h4 id="-python-实现"><a class="header" href="#-python-实现">🧬 Python 实现：</a></h4>
<pre><code class="language-python">def jaccard_distance(a, b):
    a, b = set(a), set(b)
    return 1 - len(a &amp; b) / len(a | b)

jaccard_distance([1, 2, 3], [2, 3, 4])  # 输出：0.5
</code></pre>
<h4 id="-应用场景"><a class="header" href="#-应用场景">🧠 应用场景：</a></h4>
<ul>
<li>多标签分类（如电影类型）</li>
<li>推荐系统中的相似度匹配</li>
<li>文本去重、聚类（关键词集合）</li>
</ul>
<hr />
<h3 id="210-马氏距离mahalanobis-distance"><a class="header" href="#210-马氏距离mahalanobis-distance">2.10 马氏距离（Mahalanobis Distance）</a></h3>
<p>马氏距离可用于消除特征之间的相关性影响，衡量<strong>标准化后的距离</strong>，特别适用于多维高斯分布数据。</p>
<h4 id="-定义-1"><a class="header" href="#-定义-1">📌 定义：</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.5475em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2925em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-3.2525em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90 l0 -0 c4,-6.7,10,-10,18,-10 H400000v40 H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7 s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744 c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30 c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722 c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5 c53.7,-170.3,84.5,-266.8,92.5,-289.5z M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5475em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>其中 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> 是协方差矩阵。</p>
<h4 id="-python-实现-1"><a class="header" href="#-python-实现-1">🧬 Python 实现：</a></h4>
<pre><code class="language-python">import numpy as np
from scipy.spatial import distance

X = np.array([[1, 2], [2, 3], [3, 4]])
VI = np.linalg.inv(np.cov(X.T))  # 协方差矩阵的逆
x1, x2 = X[0], X[1]
mahalanobis_dist = distance.mahalanobis(x1, x2, VI)
</code></pre>
<h4 id="-应用场景-1"><a class="header" href="#-应用场景-1">🧠 应用场景：</a></h4>
<ul>
<li>异常检测（如信用卡欺诈）</li>
<li>高维数据下的距离度量</li>
<li>多元正态分布场景建模</li>
</ul>
<hr />
<h2 id="-小结各类距离对比"><a class="header" href="#-小结各类距离对比">🧾 小结：各类距离对比</a></h2>
<div class="table-wrapper"><table><thead><tr><th>距离类型</th><th>适用数据</th><th>考虑方向</th><th>抗量纲性</th><th>典型用途</th></tr></thead><tbody>
<tr><td>欧几里得</td><td>连续</td><td>❌</td><td>❌</td><td>KNN/KMeans</td></tr>
<tr><td>曼哈顿</td><td>连续/离散</td><td>❌</td><td>❌</td><td>交通、路径规划</td></tr>
<tr><td>切比雪夫</td><td>连续</td><td>❌</td><td>❌</td><td>棋盘距离</td></tr>
<tr><td>汉明</td><td>离散/字符串</td><td>❌</td><td>✅</td><td>编码错误检查</td></tr>
<tr><td>闵可夫斯基</td><td>连续</td><td>❌</td><td>❌</td><td>可调度距离泛化</td></tr>
<tr><td>余弦距离</td><td>向量</td><td>✅</td><td>✅</td><td>文本推荐系统</td></tr>
<tr><td>标准欧几里得</td><td>连续</td><td>❌</td><td>✅</td><td>特征尺度不同</td></tr>
<tr><td>加权欧几里得</td><td>连续</td><td>❌</td><td>✅</td><td>特征加权建模</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="-结语如何选择正确的距离度量"><a class="header" href="#-结语如何选择正确的距离度量">✅ 结语：如何选择正确的距离度量？</a></h2>
<p>选择合适的距离度量，应考虑以下因素：</p>
<ul>
<li>特征的类型（离散 vs 连续）</li>
<li>特征之间的尺度是否一致</li>
<li>数据是否稀疏、高维</li>
<li>应用场景的业务背景</li>
</ul>
<p>🔧 在实际工程中，我们还可以通过**网格搜索（Grid Search）<strong>或</strong>交叉验证（Cross-Validation）**来自动选择最佳距离度量方式。</p>
<hr />
<p>如果你喜欢这篇文章，欢迎点赞、收藏或分享给朋友 😊
下一篇我将带来 👉 <strong>“KNN 算法中不同距离度量的对比实验”</strong>，敬请期待！</p>
<p>是否需要我生成 Markdown 格式或添加插图？</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="deepseek-r1"><a class="header" href="#deepseek-r1">Deepseek R1</a></h1>
<h2 id="一概述"><a class="header" href="#一概述">一、概述</a></h2>
<p>欢迎使用 Cloud Studio DeepSeek 工作空间！我们已为您预装并启动了以下服务，等待加载十几秒即可查看效果：</p>
<ul>
<li><strong>Ollama 服务</strong>：支持通过 API 调用 DeepSeek 模型。</li>
<li><strong>AnythingLLM 前端服务</strong>：提供交互式聊天界面，支持知识库上传并基于知识库进行问答。</li>
<li><strong>Open WebUI 前端服务</strong>：提供交互式聊天界面，支持上传文件作为上下文进行问答。</li>
<li><strong>预装模型</strong>：
<ul>
<li><code>DeepSeek-R1-Distill-Qwen-1.5B</code>：适合轻量级任务，如简单文本生成、基础问答和低资源设备上的应用。</li>
<li><code>DeepSeek-R1-Distill-Qwen-7B</code>：适合中等复杂度任务，如文本摘要、翻译、对话生成和内容创作。</li>
<li><code>DeepSeek-R1-Distill-Llama-8B</code>：与7B类似，性能略有提升，适合更复杂的文本生成和理解任务。</li>
<li><code>DeepSeek-R1-Distill-Qwen-14B</code>：适合高复杂度任务，如长文本生成、深度问答、知识推理和高级对话系统。</li>
<li><code>DeepSeek-R1-Distill-Qwen-32B</code>：适合高精度任务，如复杂推理、大规模知识库问答、专业领域内容生成和研究级应用。</li>
</ul>
</li>
</ul>
<h2 id="二使用教程"><a class="header" href="#二使用教程">二、使用教程</a></h2>
<p>您可以通过 Open WebUI、通过 AnythingLLM 管理知识库并对话、通过命令行调用模型、使用Ollama 原生命令对话。</p>
<h3 id="一通过-open-webui-快速体验"><a class="header" href="#一通过-open-webui-快速体验">一、通过 Open WebUI 快速体验</a></h3>
<p>我们提供了一个开箱即用的聊天界面，您可以直接通过浏览器与模型交互。点击红框区域，即可新页面打开聊天页面。</p>
<img title="" src="TX/img\open1.png" alt="" width="500">
<h4 id="操作步骤"><a class="header" href="#操作步骤">操作步骤：</a></h4>
<ol>
<li>
<p><strong>访问 Chat UI</strong><br />
当前环境已配置为默认启动该服务，可直接访问。如果希望修改启动命令，可以前往<a href="TX/.vscode/preview.yml">.vscode/preview.yml</a>修改。</p>
</li>
<li>
<p><strong>选择模型</strong><br />
在界面右上角的下拉菜单中，选择想要用的模型。</p>
<img title="" src="TX/img\open3.png" alt="" width="500">
</li>
<li>
<p><strong>开始对话</strong><br />
输入问题或指令，点击「发送」即可获取模型回复。</p>
</li>
</ol>
<h3 id="二通过-anythingllm-管理知识库并对话"><a class="header" href="#二通过-anythingllm-管理知识库并对话">二、通过 AnythingLLM 管理知识库并对话</a></h3>
<p>我们提供了一个开箱即用的聊天界面，您可以直接通过浏览器与模型交互。等待页面加载完成即可查看到下图中的界面。点击红框区域，即可新页面打开聊天页面。并点击<code>New Workspace</code>创建工作区</p>
<img title="" src="TX/img\openInBrowser.png" alt="" width="500">
<p>如没有看到预览页面，可按数字点击下方按钮，即可看到预览页面。</p>
<img title="" src="TX/img\open2.png" alt="" width="500">
<h4 id="操作步骤-1"><a class="header" href="#操作步骤-1">操作步骤：</a></h4>
<ol>
<li>
<p><strong>访问 Open WebUI</strong><br />
当前环境已配置为默认启动该服务，可直接访问。如果希望修改启动命令，可以前往<a href="TX/.vscode/preview.yml">.vscode/preview.yml</a>修改。</p>
</li>
<li>
<p><strong>选择模型</strong><br />
在界面右上角的下拉菜单中，选择 <code>deepseek-r1:1.5b</code> 或 <code>deepseek-r1:7b</code>。</p>
</li>
<li>
<p><strong>开始对话</strong><br />
输入问题或指令，点击「发送」即可获取模型回复。</p>
<img title="" src="TX/img\anything1.png" alt="" width="500">
</li>
<li>
<p><strong>上传知识库</strong><br />
点击<code>Upload</code>按钮，选择本地文件，即可上传知识库。</p>
<img title="" src="TX/img\anything2.png" alt="" width="200">
<img title="" src="TX/img\anything5.png" alt="" width="500">
</li>
</ol>
<blockquote>
<p>需注意,该浏览地址仅在当前工作空间内有效,如果关闭工作空间,则无法访问。所以请保持当前编辑器标签页，不要关闭。</p>
</blockquote>
<h4 id="常见问题"><a class="header" href="#常见问题">常见问题：</a></h4>
<ol>
<li>
<p><strong>修改系统语言</strong><br />
点击<code>Settings</code>按钮，选择<code>Language</code>，即可修改系统语言。</p>
<img title="" src="TX/img\anything3.png" alt="" width="500">
<img title="" src="TX/img\anything4.png" alt="" width="500">
</li>
<li>
<p><strong>在其他设备打开</strong><br />
复制链接地址并打开。也可hover下方红框处并扫码，即可在移动端打开</p>
<img title="" src="TX/img\anything6.png" alt="" width="400">
</li>
</ol>
<hr />
<h3 id="三通过命令行调用模型"><a class="header" href="#三通过命令行调用模型">三、通过命令行调用模型</a></h3>
<p>您可以使用 <code>curl</code> 直接与 Ollama 服务交互，适用于自动化任务或脚本调用。</p>
<h4 id="基础请求示例"><a class="header" href="#基础请求示例">基础请求示例</a></h4>
<h5 id="调用-deepseek-r115b"><a class="header" href="#调用-deepseek-r115b">调用 <code>deepseek-r1:1.5b</code></a></h5>
<pre><code class="language-bash">curl -X POST http://localhost:8434/api/generate \
     -H "Content-Type: application/json" \
     -d '{
           "model": "deepseek-r1:1.5b",
           "prompt": "用一句话解释量子计算",
           "stream": false
         }'
</code></pre>
<h5 id="调用-deepseek-r17b"><a class="header" href="#调用-deepseek-r17b">调用 <code>deepseek-r1:7b</code></a></h5>
<pre><code class="language-bash">curl -X POST http://localhost:8434/api/generate \
     -H "Content-Type: application/json" \
     -d '{
           "model": "deepseek-r1:7b",
           "prompt": "写一篇关于可再生能源的短文（200字）",
           "stream": false
         }'
</code></pre>
<h4 id="流式输出实时逐句返回"><a class="header" href="#流式输出实时逐句返回">流式输出（实时逐句返回）</a></h4>
<p>将 <code>stream</code> 参数设为 <code>true</code>：</p>
<pre><code class="language-bash">curl -X POST http://localhost:8434/api/generate \
     -H "Content-Type: application/json" \
     -d '{
           "model": "deepseek-r1:7b",
           "prompt": "详细说明如何训练一个神经网络",
           "stream": true
         }'
</code></pre>
<hr />
<h3 id="四ollama-原生命令进阶使用"><a class="header" href="#四ollama-原生命令进阶使用">四、Ollama 原生命令进阶使用</a></h3>
<p>除了 HTTP API，您还可以直接通过 <code>ollama</code> 命令行工具与模型交互。</p>
<h4 id="1-查看已安装模型"><a class="header" href="#1-查看已安装模型">1. 查看已安装模型</a></h4>
<pre><code class="language-bash">ollama list  
</code></pre>
<p>输出示例：</p>
<pre><code>NAME                SIZE  
deepseek-r1:1.5b    1.5B  
deepseek-r1:7b      7B  
</code></pre>
<h4 id="2-启动交互式对话"><a class="header" href="#2-启动交互式对话">2. 启动交互式对话</a></h4>
<pre><code class="language-bash">ollama run deepseek-r1:1.5b  
</code></pre>
<p>输入 <code>/bye</code>或者点击 <code>Ctrl + D</code> 退出对话。</p>
<p><strong>示例对话流程</strong>：</p>
<pre><code>&gt;&gt;&gt; 推荐一个适合初学者的机器学习项目  
DeepSeek: 一个手写数字识别系统是一个不错的入门项目，可以使用MNIST数据集和Python的scikit-learn库快速实现...  

&gt;&gt;&gt; 如何评估模型性能？  
DeepSeek: 常用方法包括划分训练集/测试集、交叉验证、计算准确率/精确率/召回率等指标...  

&gt;&gt;&gt; /bye  
</code></pre>
<h4 id="3-模型管理"><a class="header" href="#3-模型管理">3. 模型管理</a></h4>
<div class="table-wrapper"><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody>
<tr><td><code>ollama pull deepseek-r1:7b</code></td><td>重新拉取模型（更新时使用）</td></tr>
<tr><td><code>ollama rm deepseek-r1:7b</code></td><td>删除模型</td></tr>
</tbody></table>
</div>
<hr />
<h4 id="4-切换模型"><a class="header" href="#4-切换模型">4. 切换模型</a></h4>
<p>如需切换到7B模型，可在退出当前进程后再次输入以下代码即可：</p>
<pre><code class="language-bash">ollama run deepseek-r1:7b
</code></pre>
<p>注意：当前机器为CPU，7B模型推理速度较慢，建议使用1.5B模型。更大参数模型建议使用HAI进阶型。</p>
<h2 id="三常见问题"><a class="header" href="#三常见问题">三、常见问题</a></h2>
<h3 id="1-查看预览"><a class="header" href="#1-查看预览">1. 查看预览</a></h3>
<p>如需了解更多使用内置web预览的介绍，可参考文档：<a href="https://cloud.tencent.com/document/product/1039/72032">Cloud Studio（云端 IDE）操作指南-在线预览调试-文档中心-腾讯云</a></p>
<h3 id="2-端口占用"><a class="header" href="#2-端口占用">2. 端口占用</a></h3>
<p>如果需要释放端口，关闭某个进程，可以通过下述命令查看端口占用情况：</p>
<pre><code class="language-bash">lsof -i -P -n
</code></pre>
<p>再使用下述命令关闭进程：</p>
<pre><code class="language-bash">kill -9 &lt;进程ID&gt;
</code></pre>
<h3 id="3-空间不足"><a class="header" href="#3-空间不足">3. 空间不足</a></h3>
<p>如右下角提示空间不足，可点击右下角的“2核4G”，选择“旗舰型”，即可升级空间。</p>
<img title="" src="TX/img\update.png" alt="" width="259">
<h3 id="4-免费版工作空间时长用完如何继续使用"><a class="header" href="#4-免费版工作空间时长用完如何继续使用">4. 免费版工作空间时长用完如何继续使用?</a></h3>
<p>免费版主要用于帮助用户体验产品功能，暂不支持续费。可等待下个月再次发放时长后继续使用。</p>
<h2 id="三相关文档与资源"><a class="header" href="#三相关文档与资源">三、相关文档与资源</a></h2>
<p>（1）Deepseek 官方介绍文档：
<a href="https://github.com/deepseek-ai/DeepSeek-R1">GitHub - deepseek-ai/DeepSeek-R1</a></p>
<p>（2）Ollama 官方介绍文档：
<a href="https://github.com/ollama/ollama">GitHub - ollama/ollama</a></p>
<p>（3）Cloud Studio操作指南：
<a href="https://cloud.tencent.com/document/product/1039">Cloud Studio（云端 IDE）操作指南-文档中心-腾讯云</a></p>
<h2 id="四更多帮助和支持"><a class="header" href="#四更多帮助和支持">四、更多帮助和支持</a></h2>
<h3 id="欢迎加入cloud-studio用户反馈群"><a class="header" href="#欢迎加入cloud-studio用户反馈群">欢迎加入Cloud Studio用户反馈群</a></h3>
<p>当您遇到问题需要处理时，您可以直接通过到扫码进入Cloud Studio用户群进行提问.</p>
<ul>
<li>腾讯云工程师实时群内答疑</li>
<li>扫码入群可先享受产品上新功能</li>
<li>更多精彩活动群内优享</li>
</ul>
<img title="" src="TX/img\image.png" alt="" width="259"><div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="云服务器上中文情感分类模型微调与部署全流程实战"><a class="header" href="#云服务器上中文情感分类模型微调与部署全流程实战">云服务器上中文情感分类模型微调与部署全流程实战</a></h1>
<h2 id="目录"><a class="header" href="#目录">目录</a></h2>
<ol>
<li><a href="TX/deploy.html#%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D">项目介绍</a></li>
<li><a href="TX/deploy.html#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87">环境准备</a></li>
<li><a href="TX/deploy.html#%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87">数据准备</a></li>
<li><a href="TX/deploy.html#%E6%A8%A1%E5%9E%8B%E5%BE%AE%E8%B0%83">模型微调</a></li>
<li><a href="TX/deploy.html#gradio-%E5%89%8D%E7%AB%AF%E6%90%AD%E5%BB%BA">Gradio 前端搭建</a></li>
<li><a href="TX/deploy.html#%E5%85%AC%E7%BD%91%E8%AE%BF%E9%97%AE%E4%B8%8E%E9%9A%A7%E9%81%93%E5%B7%A5%E5%85%B7-ngrok">公网访问与隧道工具 ngrok</a></li>
<li><a href="TX/deploy.html#%E6%80%BB%E7%BB%93%E4%B8%8E%E6%89%A9%E5%B1%95">总结与扩展</a></li>
<li><a href="TX/deploy.html#%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84">项目文件结构</a></li>
</ol>
<hr />
<h2 id="项目介绍"><a class="header" href="#项目介绍">项目介绍</a></h2>
<p>本项目旨在演示如何在腾讯云服务器上完成中文情感分类模型的微调和在线部署，涵盖从数据准备、模型训练、服务搭建到公网访问的完整技术流程。<br />
核心技术栈包括 Huggingface Transformers、Datasets、Gradio 和 ngrok。</p>
<hr />
<h2 id="环境准备"><a class="header" href="#环境准备">环境准备</a></h2>
<ul>
<li>云服务器操作系统：Ubuntu 20.04</li>
<li>Python 3.8 及以上版本</li>
<li>依赖包安装命令：</li>
</ul>
<pre><code class="language-bash">apt update &amp;&amp; apt install -y python3 python3-pip git 


# 安装 GPU 支持的深度学习框架

# 以 PyTorch 为例（CUDA 12.4 对应版本）
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124 


pip install transformers datasets accelerate




---

## 数据准备


新建一个 `test_model.py`：

```python
from transformers import pipeline

# 加载中文情感分析模型
classifier = pipeline(
    "sentiment-analysis",
    model="uer/roberta-base-finetuned-jd-binary-chinese",
    device=0  # GPU:0
)

# 测试几句话
texts = [
    "这个产品真的很好用！",
    "我非常失望，质量太差了。",
    "一般般，没有特别惊艳的地方。"
]

for t in texts:
    print(t, "=&gt;", classifier(t))
</code></pre>
<p>运行：</p>
<pre><code class="language-bash">python test_model.py
</code></pre>
<p>你会看到三句话分别被标注为积极（positive）或消极（negative）。</p>
<p>这个产品真的很好用！ =&gt; [{'label': 'positive (stars 4 and 5)', 'score': 0.976917028427124}]
model.safetensors:   5%|████▋                                                                                       | 21.0M/409M [00:01&lt;00:21, 18.3MB/s]我非常失望，质量太差了。 =&gt; [{'label': 'negative (stars 1, 2 and 3)', 'score': 0.9843776226043701}]
一般般，没有特别惊艳的地方。 =&gt; [{'label': 'negative (stars 1, 2 and 3)', 'score': 0.5168154239654541}]
model.safetensors: 100%|█████████████████████████████████████████████████████████████████████████████████████████████| 409M/409M [00:33&lt;00:00, 12.2MB/s]</p>
<h2 id="模型微调"><a class="header" href="#模型微调">模型微调</a></h2>
<p>我们进入 <strong>阶段 3：微调模型</strong>，一步步来。</p>
<hr />
<h2 id="-阶段-3微调中文情感分析模型"><a class="header" href="#-阶段-3微调中文情感分析模型"><strong>📌 阶段 3：微调中文情感分析模型</strong></a></h2>
<h3 id="1-安装依赖"><a class="header" href="#1-安装依赖">1. 安装依赖</a></h3>
<p>先安装 Hugging Face 训练所需工具：</p>
<pre><code class="language-bash">pip install transformers datasets accelerate evaluate
</code></pre>
<hr />
<h3 id="2-创建训练脚本-finetune_sentimentpy"><a class="header" href="#2-创建训练脚本-finetune_sentimentpy">2. 创建训练脚本 <code>finetune_sentiment.py</code></a></h3>
<details>
  <summary>代码</summary>
<pre><code class="language-python">from datasets import Dataset
import pandas as pd
import evaluate
import numpy as np
from transformers import AutoTokenizer, AutoModelForSequenceClassification, TrainingArguments, Trainer

# 1. 读取 CSV 并转成 Dataset
df = pd.read_csv("data/chnsenticorp.csv")  # 确保文件路径正确
dataset = Dataset.from_pandas(df)

# 2. 拆分数据集（80%训练，20%验证）
split_dataset = dataset.train_test_split(test_size=0.2, seed=42)
train_dataset = split_dataset["train"]
eval_dataset = split_dataset["test"]

# 3. 加载分词器和模型
model_name = "uer/roberta-base-finetuned-jd-binary-chinese"
tokenizer = AutoTokenizer.from_pretrained(model_name)
model = AutoModelForSequenceClassification.from_pretrained(model_name)

# 4. 定义分词函数
def preprocess_function(examples):
    return tokenizer(examples["text"], truncation=True, padding="max_length", max_length=128)

# 5. 对训练集和验证集做分词
train_dataset = train_dataset.map(preprocess_function, batched=True)
eval_dataset = eval_dataset.map(preprocess_function, batched=True)

# 6. 加载评价指标
accuracy = evaluate.load("accuracy")

def compute_metrics(eval_pred):
    logits, labels = eval_pred
    predictions = np.argmax(logits, axis=-1)
    return accuracy.compute(predictions=predictions, references=labels)

# 7. 训练参数配置
training_args = TrainingArguments(
    output_dir="./results",
    save_strategy="epoch",
    learning_rate=2e-5,
    per_device_train_batch_size=16,
    per_device_eval_batch_size=16,
    num_train_epochs=2,
    weight_decay=0.01,
    logging_dir="./logs",
    logging_steps=50,
    push_to_hub=False,
    load_best_model_at_end=False,
    fp16=True
)

# 8. 创建 Trainer 实例
trainer = Trainer(
    model=model,
    args=training_args,
    train_dataset=train_dataset,
    eval_dataset=eval_dataset,
    tokenizer=tokenizer,
    compute_metrics=compute_metrics
)

# 9. 开始训练
trainer.train()

# 10. 保存模型和分词器
trainer.save_model("./my-chinese-sentiment")
tokenizer.save_pretrained("./my-chinese-sentiment")

print("✅ 训练完成，模型已保存到 ./my-chinese-sentiment")


</code></pre>
<p>运行：</p>
<pre><code class="language-bash">python test_my_model.py
</code></pre>
</details>
<p>执行 <strong>python finetune_sentiment.py</strong>报错</p>
<details>
  <summary>报错解释</summary>
<p>你这个报错是因为 load_dataset("chnsenticorp") 会去 Hugging Face Hub 下载中文情感数据集，但服务器现在连不上 Hugging Face（要么是网络被墙，要么是没有设置访问 token）</p>
</details>
<p>解决办法</p>
<details>
  <summary>解决方法</summary>
<hr />
<p><strong>方法 1：手动下载本地数据集（推荐，稳定）</strong></p>
<ol>
<li>我帮你找好 <code>ChnSentiCorp</code> 数据集的 CSV 文件（包含“评论”和“标签”），我们直接用 <code>pandas</code> 读本地数据，不走 Hugging Face Hub。</li>
<li>你把文件放到 <code>/workspace/data/</code> 下，脚本改成：</li>
</ol>
<pre><code class="language-python">from datasets import Dataset
import pandas as pd

df = pd.read_csv("data/chnsenticorp.csv")  # 假设有 text, label 两列
dataset = Dataset.from_pandas(df)
</code></pre>
<p>这样完全不用联网。</p>
<hr />
<p><strong>方法 2：配置 Hugging Face 国内镜像</strong>（如果要继续用 Hub）</p>
<pre><code class="language-bash">pip install huggingface_hub
huggingface-cli login  # 如果你有 HF 账号，输入 token
</code></pre>
<p>然后在 Python 里加：</p>
<pre><code class="language-python">from datasets import load_dataset
dataset = load_dataset("shibing624/chnsenticorp")
</code></pre>
<p><code>shibing624/chnsenticorp</code> 是社区上传的版本，比官方的更容易下载。
但前提是你的服务器能科学访问。</p>
<hr />
<p><strong>方法 3：换一个本地可用的中文情感数据集</strong>
比如直接用几百条示例数据练手，先跑通流程，再换更大的数据。</p>
<hr />
<p>我走的是 <strong>方法 1（本地数据）</strong>，这样我们马上就能开始微调，不用折腾网络。</p>
</details>
<p>将以下数据写入<code>chnsenticorp.csv</code> 文件内容，然后把它保存到 <code>/workspace/data/chnsenticorp.csv</code> 就可以了。</p>
<details>
  <summary>示例内容</summary>
<p>这里是示例内容，包含几条中文情感分类的样本，格式是 <code>text,label</code>，label 1 表示积极，0 表示消极：</p>
<pre><code class="language-csv">text,label
这个产品真的很好用,1
质量太差了，非常失望,0
服务态度非常好，值得推荐,1
不喜欢这个商品，体验很差,0
物美价廉，超出预期,1
垃圾，完全没有用,0
快递很快，包装也不错,1
差评，根本不值这个价格,0
用了几天才发现非常好用，满意,1
颜色和图片一样，非常漂亮,1
安装复杂，说明书不详细,0
客服态度冷淡，不想买了,0
性价比高，下次还会买,1
东西坏了，退货麻烦,0
物流慢得让人心焦,0
体验很好，操作简单,1
设计时尚，手感不错,1
没有预期的好，失望,0
包装破损，影响心情,0
价格合理，划算,1
产品材质很差，感觉便宜货,0
客服耐心解答，解决了问题,1
收到货后很满意，非常棒,1
快递员态度差，影响心情,0
质量非常好，超出预期,1
产品有异味，不建议购买,0
使用方便，效果明显,1
退货过程繁琐，浪费时间,0
非常喜欢，推荐购买,1
功能齐全，操作流畅,1

</code></pre>
</details>
<p>执行</p>
<p>✅ 训练完成，模型已保存到 ./my-chinese-sentiment</p>
<p>加载刚训练好的模型和分词器，给一句中文文本做情感预测：</p>
<details>
  <summary>代码示例</summary>
<pre><code class="language-python">from transformers import AutoTokenizer, AutoModelForSequenceClassification
import torch
import numpy as np

# 1. 加载训练后保存的模型和分词器
model_dir = "./my-chinese-sentiment"
tokenizer = AutoTokenizer.from_pretrained(model_dir)
model = AutoModelForSequenceClassification.from_pretrained(model_dir)

# 2. 准备输入文本
text = "这个产品真的很好用，我很喜欢！"

# 3. 分词编码
inputs = tokenizer(text, return_tensors="pt", truncation=True, padding="max_length", max_length=128)

# 4. 模型推理
model.eval()
with torch.no_grad():
    outputs = model(**inputs)
    logits = outputs.logits

# 5. 取概率最高的类别索引
predicted_class_id = torch.argmax(logits, dim=1).item()

# 6. 输出结果（0=消极，1=积极）
labels_map = {0: "消极", 1: "积极"}
print(f"文本：{text}")
print(f"预测情感：{labels_map[predicted_class_id]}")
</code></pre>
<hr />
<p>把这段代码保存成比如 <code>predict.py</code>，执行：</p>
<pre><code class="language-bash">python predict.py
</code></pre>
<p>就能看到模型对示例文本的情感预测结果了。</p>
<h2>(base) root@VM-14-154-ubuntu:/workspace# python predict.py
文本：这个产品真的很好用，我很喜欢！
预测情感：积极</h2>
</details>
<h3 id="微调方案"><a class="header" href="#微调方案">微调方案</a></h3>
<details>
  <summary>方案</summary>
因为用的是 Hugging Face Transformers 训练的中文情感分类模型，想用类似 **LLaMA-Factory** 的带 Web UI 的工具来微调它，以下是可行方案和思路：
<hr />
<h2 id="1-llama-factory-ui-是专门针对-llama-系列大语言模型设计的"><a class="header" href="#1-llama-factory-ui-是专门针对-llama-系列大语言模型设计的">1. LLaMA-Factory UI 是专门针对 LLaMA 系列大语言模型设计的</a></h2>
<ul>
<li>它集成了训练、推理的 Web 界面</li>
<li>支持 LoRA / QLoRA 微调等</li>
<li>主要面向生成任务和大模型，不直接支持一般 Transformers 分类模型微调</li>
</ul>
<hr />
<h2 id="2-你的模型基于-roberta微调--ui-方案"><a class="header" href="#2-你的模型基于-roberta微调--ui-方案">2. 你的模型（基于 RoBERTa）微调 + UI 方案</a></h2>
<h3 id="方案-a用-gradio-或-streamlit-自己搭建简单的-web-ui"><a class="header" href="#方案-a用-gradio-或-streamlit-自己搭建简单的-web-ui">方案 A：用 Gradio 或 Streamlit 自己搭建简单的 Web UI</a></h3>
<ul>
<li><strong>Gradio</strong> 是很流行的 Python 库，可以用几行代码快速做一个网页界面，既能推理也能触发训练</li>
<li>你可以把训练脚本改成函数，前端传入训练参数和数据，后台调用 Hugging Face Trainer 训练，推理部分用你已保存模型加载做预测</li>
</ul>
<p>示例：简易推理 + 训练按钮界面（可扩展）</p>
<pre><code class="language-python">import gradio as gr
from transformers import AutoTokenizer, AutoModelForSequenceClassification, Trainer, TrainingArguments
import torch
import pandas as pd

model_dir = "./my-chinese-sentiment"
tokenizer = AutoTokenizer.from_pretrained(model_dir)
model = AutoModelForSequenceClassification.from_pretrained(model_dir)

def predict(text):
    inputs = tokenizer(text, return_tensors="pt", truncation=True, padding=True, max_length=128)
    outputs = model(**inputs)
    probs = torch.softmax(outputs.logits, dim=-1)
    label = torch.argmax(probs).item()
    return "积极" if label == 1 else "消极"

def train(data_csv):
    # 这里简单示范：接收 CSV 文件路径，运行训练脚本或调用 Trainer
    df = pd.read_csv(data_csv.name)
    # 你可以写完整的训练流程，参考之前代码
    return "训练已完成！"

with gr.Blocks() as demo:
    gr.Markdown("# 中文情感分类微调与预测")
    text_input = gr.Textbox(label="输入文本预测情感")
    pred_button = gr.Button("预测")
    pred_output = gr.Label()
    
    pred_button.click(predict, inputs=text_input, outputs=pred_output)
    
    file_input = gr.File(label="上传训练数据 CSV")
    train_button = gr.Button("开始训练")
    train_output = gr.Textbox()
    
    train_button.click(train, inputs=file_input, outputs=train_output)

demo.launch()
</code></pre>
<p>用 <code>python your_gradio_app.py</code> 启动后就有个简单 UI 可以试。</p>
<hr />
<h3 id="方案-b用已有的-hugging-face-spaces"><a class="header" href="#方案-b用已有的-hugging-face-spaces">方案 B：用已有的 Hugging Face Spaces</a></h3>
<ul>
<li>Hugging Face Spaces 支持 Gradio/Streamlit，可以快速部署在线 Web 应用</li>
<li>但通常不支持在线训练，只适合推理</li>
</ul>
<hr />
<h3 id="方案-c使用专业-mlops--automl-平台"><a class="header" href="#方案-c使用专业-mlops--automl-平台">方案 C：使用专业 MLOps / AutoML 平台</a></h3>
<ul>
<li>比如 Azure ML Studio、Weights &amp; Biases、SageMaker 等</li>
<li>有完整界面管理训练、推理和监控，但配置和成本较高</li>
</ul>
<hr />
<h2 id="3-总结"><a class="header" href="#3-总结">3. 总结</a></h2>
<ul>
<li><strong>LLaMA-Factory 的 Web UI</strong> 是专门给大语言模型用的，不能直接拿来训练 RoBERTa 分类模型</li>
<li>可以用 <strong>Gradio</strong> 自己快速搭个界面，实现简单的训练和推理交互</li>
<li>训练部分逻辑完全可复用已有的代码，UI 只负责文件上传和参数传递</li>
</ul>
<hr />
</details>
<h2 id="gradio-前端搭建"><a class="header" href="#gradio-前端搭建">gradio-前端搭建</a></h2>
<p>我采用方案A，以下是一个基于 <strong>Gradio</strong> 的简单中文情感分类微调+推理 Web UI 示例。这个界面支持：</p>
<ul>
<li>输入文本做情感预测</li>
<li>上传新的训练数据 CSV，点击按钮触发微调训练</li>
</ul>
<hr />
<details>
  <summary>示范</summary>
<h3 id="完整示范代码apppy"><a class="header" href="#完整示范代码apppy">完整示范代码（<code>app.py</code>）</a></h3>
<pre><code class="language-python">import gradio as gr
import pandas as pd
import torch
import numpy as np
from transformers import AutoTokenizer, AutoModelForSequenceClassification, Trainer, TrainingArguments
from datasets import Dataset
import evaluate

# 初始加载已有模型和分词器
model_dir = "./my-chinese-sentiment"
tokenizer = AutoTokenizer.from_pretrained(model_dir)
model = AutoModelForSequenceClassification.from_pretrained(model_dir)

# 评价指标
accuracy = evaluate.load("accuracy")

def compute_metrics(eval_pred):
    logits, labels = eval_pred
    predictions = np.argmax(logits, axis=-1)
    return accuracy.compute(predictions=predictions, references=labels)

# 预测函数
def predict(text):
    inputs = tokenizer(text, return_tensors="pt", truncation=True, padding=True, max_length=128)
    model.eval()
    with torch.no_grad():
        outputs = model(**inputs)
        probs = torch.softmax(outputs.logits, dim=-1)
        label = torch.argmax(probs).item()
    return "积极" if label == 1 else "消极"

# 训练函数
def train(file_obj):
    try:
        df = pd.read_csv(file_obj.name)
        if "text" not in df.columns or "label" not in df.columns:
            return "CSV必须包含'text'和'label'两列"
        
        dataset = Dataset.from_pandas(df)
        split_ds = dataset.train_test_split(test_size=0.2, seed=42)
        train_ds = split_ds["train"]
        eval_ds = split_ds["test"]

        def preprocess_fn(examples):
            return tokenizer(examples["text"], truncation=True, padding="max_length", max_length=128)

        train_ds = train_ds.map(preprocess_fn, batched=True)
        eval_ds = eval_ds.map(preprocess_fn, batched=True)

        training_args = TrainingArguments(
            output_dir="./results",
            save_strategy="epoch",
            learning_rate=2e-5,
            per_device_train_batch_size=16,
            per_device_eval_batch_size=16,
            num_train_epochs=2,
            weight_decay=0.01,
            logging_dir="./logs",
            logging_steps=50,
            push_to_hub=False,
            load_best_model_at_end=False,
            fp16=True
        )

        trainer = Trainer(
            model=model,
            args=training_args,
            train_dataset=train_ds,
            eval_dataset=eval_ds,
            tokenizer=tokenizer,
            compute_metrics=compute_metrics
        )

        trainer.train()

        # 训练结束后保存模型，方便后续预测用最新模型
        trainer.save_model(model_dir)
        tokenizer.save_pretrained(model_dir)

        return "✅ 训练完成，模型已更新"
    except Exception as e:
        return f"训练失败，错误：{e}"

# Gradio UI 布局
with gr.Blocks() as demo:
    gr.Markdown("# 中文情感分类微调与预测")
    
    with gr.Tab("预测"):
        text_input = gr.Textbox(label="输入文本")
        pred_button = gr.Button("预测情感")
        pred_output = gr.Label()
        pred_button.click(predict, inputs=text_input, outputs=pred_output)
    
    with gr.Tab("微调训练"):
        file_input = gr.File(label="上传训练数据 CSV（含 text, label 列）", file_types=[".csv"])
        train_button = gr.Button("开始微调训练")
        train_output = gr.Textbox()
        train_button.click(train, inputs=file_input, outputs=train_output)

demo.launch(server_name="0.0.0.0", server_port=7860)

</code></pre>
<hr />
<h3 id="使用说明"><a class="header" href="#使用说明">使用说明</a></h3>
<ol>
<li><strong>准备好你之前训练好的模型</strong>，路径是 <code>./my-chinese-sentiment</code>。</li>
<li>安装依赖：</li>
</ol>
<pre><code class="language-bash">pip install gradio transformers datasets evaluate torch pandas
</code></pre>
<ol start="3">
<li>运行：</li>
</ol>
<pre><code class="language-bash">python app.py
</code></pre>
<ol start="4">
<li>
<p>浏览器打开自动弹出的链接或访问 <code>http://127.0.0.1:7860</code>，你就能看到界面。</p>
</li>
<li>
<p><strong>预测页</strong>：输入中文文本点击“预测情感”。</p>
</li>
<li>
<p><strong>微调训练页</strong>：上传包含 <code>text</code> 和 <code>label</code> 的 CSV 文件，点击“开始微调训练”，训练结束后模型会自动更新。</p>
</li>
</ol>
<hr />
<h3 id="注意"><a class="header" href="#注意">注意</a></h3>
<ul>
<li>训练会使用你的当前硬件（最好有 GPU）。</li>
<li>训练时间视数据量和机器性能而定。</li>
<li>训练过程的日志会输出到控制台。</li>
<li>这个界面示例简单直观，你可以根据需求自行扩展。</li>
</ul>
<hr />
<p>安装 sudo。
确保服务器本身没有额外防火墙限制
运行命令检查（Ubuntu 常见是 ufw）：</p>
<hr />
<h2 id="ubuntudebian-系统安装-ufw"><a class="header" href="#ubuntudebian-系统安装-ufw">Ubuntu/Debian 系统安装 ufw</a></h2>
<pre><code class="language-bash">apt update
apt install ufw
</code></pre>
<hr />
<p>运行</p>
<pre><code class="language-bash">ufw status
</code></pre>
<p>如果提示 <code>command not found</code>，<code>Status: inactive</code>说明系统没安装 <code>ufw</code>。</p>
<ol>
<li>用隧道工具（推荐）
通过隧道工具暴露 Gradio 端口，实现本地浏览器访问。</li>
</ol>
<p>常用工具
ngrok（需注册）</p>
<p>cloudflared（Cloudflare 提供）</p>
<p>frp（需要你自己的公网服务器做跳板）</p>
<ol start="2">
<li>ngrok 简单使用示范
下载并安装 ngrok：</li>
</ol>
<hr />
<h2 id="一准备工作"><a class="header" href="#一准备工作">一、准备工作</a></h2>
<ol>
<li>
<p>注册 <a href="https://ngrok.com/">ngrok 官网</a> 并登录，进入 Dashboard 获取你的 <strong>Authtoken</strong>。</p>
</li>
<li>
<p>云IDE 里下载并解压 ngrok：</p>
</li>
</ol>
<pre><code class="language-bash">wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip
unzip ngrok-stable-linux-amd64.zip
chmod +x ngrok
./ngrok version
</code></pre>
<hr />
<h2 id="正确下载最新-ngrok-版本的方法"><a class="header" href="#正确下载最新-ngrok-版本的方法">正确下载最新 ngrok 版本的方法</a></h2>
<p>ngrok 最新版本是 3.x，官方最新 Linux 64位下载地址：</p>
<pre><code class="language-bash">wget https://bin.equinox.io/c/bNyj1mQVY4c/ngrok-v3-stable-linux-amd64.tgz -O ngrok.tgz
tar -xzf ngrok.tgz
chmod +x ngrok
./ngrok version
</code></pre>
<hr />
<p>执行完后，认证 token ：</p>
<pre><code class="language-bash">./ngrok authtoken &lt;你的token&gt;
</code></pre>
<h2 id="公网访问与隧道工具-ngrok"><a class="header" href="#公网访问与隧道工具-ngrok">公网访问与隧道工具-ngrok</a></h2>
<hr />
<h3 id="执行"><a class="header" href="#执行">执行</a></h3>
<ol>
<li>先运行你的 Gradio 服务：</li>
</ol>
<pre><code class="language-bash">python app.py
</code></pre>
<p>确认它在运行，并且输出类似：</p>
<pre><code>Running on local URL:  http://0.0.0.0:7860
</code></pre>
<ol start="2">
<li>在另一个终端窗口，启动 ngrok 隧道：</li>
</ol>
<pre><code class="language-bash">./ngrok http 7860
</code></pre>
<ol start="3">
<li>复制 ngrok 显示的公网地址，用浏览器访问，就能看到你的 Gradio 页面。</li>
</ol>
<p>---。</p>
<h2 id="总结与扩展"><a class="header" href="#总结与扩展">总结与扩展</a></h2>
<ul>
<li>本文演示了中文情感分类模型的完整微调与部署流程</li>
<li>介绍了如何解决云服务器端口访问限制问题</li>
<li>后续可尝试 Docker 容器化部署、搭建更复杂的在线服务接口</li>
<li>ngrok 免费账号的公网地址是临时随机的，重启后会变化。</li>
<li>建议只用于调试、临时访问。</li>
</ul>
<hr />
<h2 id="项目文件结构"><a class="header" href="#项目文件结构">项目文件结构</a></h2>
<pre><code>/workspace/
├── data/
│   └── chnsenticorp.csv       # 中文情感分类数据CSV
├── my-chinese-sentiment/      # 训练后模型文件夹
│   ├── config.json
│   ├── pytorch_model.bin
│   ├── tokenizer.json
│   └── ...
├── app.py                     # Gradio 启动脚本
├── finetune_sentiment.py      # 微调训练脚本
├── ngrok                      # ngrok 可执行文件
├── ngrok.tgz                  # ngrok 压缩包
└── start_gradio_with_ngrok.py # （可选）自动启动Gradio和ngrok脚本
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p><code>apt install neofetch</code> 是一条在 <strong>Debian / Ubuntu / 及其衍生发行版</strong> 的 Linux 系统中用来<strong>安装软件</strong>的命令。</p>
<p>拆开解释：</p>
<ol>
<li>
<p><strong><code>apt</code></strong></p>
<ul>
<li>这是 Ubuntu/Debian 系列系统的包管理工具（Advanced Package Tool）。</li>
<li>用来安装、更新、卸载、搜索软件包。</li>
</ul>
</li>
<li>
<p><strong><code>install</code></strong></p>
<ul>
<li><code>apt</code> 的一个子命令，意思是“安装”。</li>
<li>格式：<code>apt install &lt;软件名&gt;</code>。</li>
</ul>
</li>
<li>
<p><strong><code>neofetch</code></strong></p>
<ul>
<li>一个终端工具，用来<strong>在命令行显示系统信息</strong>，并配合漂亮的 ASCII 发行版 logo。</li>
<li>它会显示操作系统版本、内核、CPU、内存、桌面环境等信息。</li>
<li>常用于截图或炫酷的系统展示。</li>
</ul>
</li>
</ol>
<p>执行时流程：</p>
<pre><code class="language-bash">apt install neofetch
</code></pre>
<p>系统会：</p>
<ol>
<li>从软件源里找到 <code>neofetch</code> 软件包。</li>
<li>下载它和依赖文件。</li>
<li>安装到系统中。</li>
</ol>
<p>安装后运行：</p>
<pre><code class="language-bash">neofetch
</code></pre>
<h2>就能看到一个彩色的系统信息界面。
<img src="TX/image/ubuntu.png" alt="alt text" /></h2>
<details>
  <summary>点击展开 / 折叠：系统信息介绍</summary>
<h1 id="这张截图是什么概述"><a class="header" href="#这张截图是什么概述">这张截图是什么（概述）</a></h1>
<p>你贴出的图片是 <strong><code>neofetch</code></strong> 的输出 —— 一个用来在终端快速展示系统信息的工具。左边是发行版的 ASCII logo（这里是 Ubuntu 的标志），右侧按行列出了主机名、操作系统、内核、CPU、内存等关键信息，并在底部显示了终端颜色调色板。</p>
<p>下面我把每一行/每一项逐条拆开，详细解释含义、如何验证来源，以及常用的扩展命令与排查建议。</p>
<hr />
<h1 id="逐项详解"><a class="header" href="#逐项详解">逐项详解</a></h1>
<h3 id="顶部rootvm-14-154-ubuntu"><a class="header" href="#顶部rootvm-14-154-ubuntu">顶部：<code>root@VM-14-154-ubuntu</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：当前登录用户和主机名。<code>root</code> 表示你以超级用户身份登录；<code>VM-14-154-ubuntu</code> 是主机名。</p>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">whoami        # 当前用户名
hostname      # 主机名
</code></pre>
</li>
</ul>
<h3 id="os-ubuntu-20046-lts-x86_64"><a class="header" href="#os-ubuntu-20046-lts-x86_64"><code>OS: Ubuntu 20.04.6 LTS x86_64</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：操作系统及版本（Ubuntu 20.04.6 LTS），体系结构为 64 位（x86_64）。</p>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">cat /etc/os-release
lsb_release -a
</code></pre>
</li>
</ul>
<h3 id="host-cvm-30"><a class="header" href="#host-cvm-30"><code>Host: CVM 3.0</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：厂商/主机类型，<code>CVM</code> 常见于云厂商（Cloud Virtual Machine）表示这是云主机/虚拟机。具体厂商信息可不同云上显示不同标识。</p>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">sudo dmidecode -s system-product-name   # 需 root，可能返回云厂商/型号
hostnamectl
</code></pre>
</li>
</ul>
<h3 id="kernel-540-166-generic"><a class="header" href="#kernel-540-166-generic"><code>Kernel: 5.4.0-166-generic</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：Linux 内核版本。</p>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">uname -r
uname -a
</code></pre>
</li>
</ul>
<h3 id="uptime-5-hours-23-mins"><a class="header" href="#uptime-5-hours-23-mins"><code>Uptime: 5 hours, 23 mins</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：系统自上次启动以来运行时间（开机时长）。</p>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">uptime
</code></pre>
</li>
</ul>
<h3 id="packages-436-dpkg"><a class="header" href="#packages-436-dpkg"><code>Packages: 436 (dpkg)</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：系统已安装软件包数量（这里用的是 Debian/Ubuntu 的 <code>dpkg</code> 包管理器统计）。</p>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">dpkg -l | wc -l
# 或 apt:
apt list --installed | wc -l
</code></pre>
</li>
</ul>
<h3 id="shell-bash-5017"><a class="header" href="#shell-bash-5017"><code>Shell: bash 5.0.17</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：当前使用的 shell 及其版本。</p>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">echo $SHELL
bash --version
</code></pre>
</li>
</ul>
<h3 id="resolution-1024x768"><a class="header" href="#resolution-1024x768"><code>Resolution: 1024x768</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：当前显示/终端的分辨率（对于远程/VSCode 终端通常是虚拟分辨率）。</p>
</li>
<li>
<p><strong>如何查（图形环境）</strong>：</p>
<pre><code class="language-bash">xdpyinfo | grep dimensions   # 需要 X 环境
</code></pre>
</li>
</ul>
<h3 id="terminal-vscode"><a class="header" href="#terminal-vscode"><code>Terminal: vscode</code></a></h3>
<ul>
<li><strong>含义</strong>：neofetch 检测到你是在 <strong>VS Code</strong> 的集成终端里运行（通常是通过 Remote - SSH 打开的终端）。</li>
</ul>
<h3 id="cpu-intel-xeon-platinum-8255c-8--2494ghz"><a class="header" href="#cpu-intel-xeon-platinum-8255c-8--2494ghz"><code>CPU: Intel Xeon Platinum 8255C (8) @ 2.494GHz</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：CPU 型号与频率。括号中的数字（<code>(8)</code>）表示 neofetch 检测到的核心数（可能是逻辑核心或物理核心，依系统而异）。</p>
</li>
<li>
<p><strong>如何查看更详细信息</strong>：</p>
<pre><code class="language-bash">lscpu
cat /proc/cpuinfo | grep "model name" -m1
</code></pre>
<p><code>lscpu</code> 会显示 <code>CPU(s):</code>（逻辑核数）、<code>Core(s) per socket</code>、<code>Thread(s) per core</code> 等字段，帮助你区分物理核与线程。</p>
</li>
</ul>
<h3 id="memory-4566mib--31331mib"><a class="header" href="#memory-4566mib--31331mib"><code>Memory: 4566MiB / 31331MiB</code></a></h3>
<ul>
<li>
<p><strong>含义</strong>：当前使用的内存 / 总内存，以 MiB（Mebibyte）为单位。</p>
</li>
<li>
<p><strong>换算成 GiB（更直观）</strong>：按 1 GiB = 1024 MiB 计算：</p>
<ul>
<li><code>4566 MiB ≈ 4.46 GiB</code>（计算：4566 ÷ 1024 = 4 + 470/1024 ≈ 4.459）</li>
<li><code>31331 MiB ≈ 30.60 GiB</code>（计算：31331 ÷ 1024 = 30 + 611/1024 ≈ 30.596）
所以约 <strong>4.46 GiB / 30.60 GiB</strong>（已用 / 总量）。</li>
</ul>
</li>
<li>
<p><strong>如何查</strong>：</p>
<pre><code class="language-bash">free -h
cat /proc/meminfo
</code></pre>
</li>
</ul>
<h3 id="底部颜色块16-色"><a class="header" href="#底部颜色块16-色">底部：颜色块（16 色）</a></h3>
<ul>
<li><strong>含义</strong>：neofetch 显示当前终端的 16 色调色板（颜色 0–15）。用于检查主题/配色是否正确。</li>
</ul>
<hr />
<h1 id="为什么-neofetch-有用"><a class="header" href="#为什么-neofetch-有用">为什么 neofetch 有用</a></h1>
<ul>
<li><strong>快速一览</strong>：在终端打开时即可看到系统概况，方便截图或诊断（例如你发图给别人求助时）。</li>
<li><strong>可配置</strong>：可以自定义显示哪些信息、替换 ASCII logo、在登录时自动运行等。</li>
<li><strong>轻量</strong>：只读系统信息，不会改变任何设置。</li>
</ul>
<hr />
<h1 id="常用扩展命令排查获取更多硬件信息"><a class="header" href="#常用扩展命令排查获取更多硬件信息">常用扩展命令（排查/获取更多硬件信息）</a></h1>
<ul>
<li>
<p><strong>查看显卡（如果有 NVIDIA）</strong>：</p>
<pre><code class="language-bash">nvidia-smi
lspci | grep -i nvidia
</code></pre>
</li>
<li>
<p><strong>查看磁盘与分区</strong>：</p>
<pre><code class="language-bash">df -h
lsblk
sudo fdisk -l
</code></pre>
</li>
<li>
<p><strong>实时监控 CPU / 内存</strong>：</p>
<pre><code class="language-bash">top
htop    # 更友好（需安装: apt install htop）
glances # 更全（需安装）
</code></pre>
</li>
<li>
<p><strong>查看已安装包的详细来源</strong>（Debian/Ubuntu）：</p>
<pre><code class="language-bash">dpkg -l | less
</code></pre>
</li>
</ul>
<hr />
<h1 id="常见自定义与小技巧"><a class="header" href="#常见自定义与小技巧">常见自定义与小技巧</a></h1>
<ul>
<li>
<p><strong>安装 neofetch（Ubuntu/Debian）</strong>：</p>
<pre><code class="language-bash">sudo apt update
sudo apt install neofetch
</code></pre>
</li>
<li>
<p><strong>登录时自动显示</strong>：在 <code>~/.bashrc</code> 或 <code>~/.profile</code> 最后加一行：</p>
<pre><code class="language-bash">neofetch
</code></pre>
</li>
<li>
<p><strong>配置文件位置</strong>：<code>~/.config/neofetch/config.conf</code>（在此修改要显示/隐藏的字段、logo、格式等）。</p>
</li>
<li>
<p><strong>让 neofetch 显示额外信息</strong>：编辑 <code>config.conf</code> 中的 <code>info</code> 列表（例如加入 <code>gpu</code>、<code>disk</code> 等条目）。</p>
</li>
</ul>
<hr />
<h1 id="小结--建议"><a class="header" href="#小结--建议">小结 &amp; 建议</a></h1>
<ul>
<li>你的机器是 <strong>云主机（CVM）</strong>，运行 <strong>Ubuntu 20.04</strong>，CPU 为 <strong>Intel Xeon Platinum 8255C</strong>，内存约 <strong>31.3 GiB</strong>（当前使用 ~4.5 GiB），并在 <strong>VS Code 的终端</strong> 中运行 neofetch。</li>
</ul>
</details>
<p>在终端运行 nvidia-smi 会出现GPU信息界面</p>
<p><img src="TX/image/GPU.png" alt="alt text" /></p>
<details>
  <summary>点击展开 / 折叠：GPU状态信息</summary>
<p>这张图显示的是在终端运行 <code>nvidia-smi</code> 的结果，意思是查看显卡（NVIDIA GPU）的状态信息。</p>
<hr />
<h3 id="第一行"><a class="header" href="#第一行"><strong>第一行</strong></a></h3>
<pre><code>Fri Aug  8 11:57:29 2025
</code></pre>
<p>当前系统时间。</p>
<hr />
<h3 id="驱动和-cuda-信息"><a class="header" href="#驱动和-cuda-信息"><strong>驱动和 CUDA 信息</strong></a></h3>
<pre><code>NVIDIA-SMI 525.105.17    Driver Version: 525.105.17    CUDA Version: 12.4
</code></pre>
<ul>
<li><strong>NVIDIA-SMI</strong>：NVIDIA 的命令行工具版本（这里是 525.105.17）。</li>
<li><strong>Driver Version</strong>：显卡驱动版本（525.105.17）。</li>
<li><strong>CUDA Version</strong>：CUDA 工具包版本（12.4），用于 GPU 加速计算。</li>
</ul>
<hr />
<h3 id="gpu-设备信息"><a class="header" href="#gpu-设备信息"><strong>GPU 设备信息</strong></a></h3>
<pre><code>GPU  Name        Persistence-M    Bus-Id        Disp.A     Volatile Uncorr. ECC
Fan  Temp  Perf  Pwr:Usage/Cap    Memory-Usage  GPU-Util  Compute M.  MIG M.
</code></pre>
<p>对应下面这行数据：</p>
<pre><code>0    Tesla T4    On              00000000:00:09.0  Off   0
N/A  28C   P8    9W / 70W        4MiB / 15360MiB   0%     Default     N/A
</code></pre>
<p>解释：</p>
<ul>
<li><strong>GPU</strong>：编号，这台机器只有一张卡（<code>0</code>）。</li>
<li><strong>Name</strong>：显卡型号（Tesla T4，一种服务器用 GPU）。</li>
<li><strong>Persistence-M</strong>：<code>On</code> 表示持久化模式开启（节省初始化时间）。</li>
<li><strong>Bus-Id</strong>：PCI 总线 ID（唯一标识 GPU 位置）。</li>
<li><strong>Disp.A</strong>：显示器是否连接（Off 表示没接显示器）。</li>
<li><strong>ECC</strong>：错误纠正码功能，这里是 <code>0</code>（关闭）。</li>
</ul>
<p>第二行：</p>
<ul>
<li><strong>Fan</strong>：风扇转速（N/A，因为 T4 是被动散热）。</li>
<li><strong>Temp</strong>：温度（28°C）。</li>
<li><strong>Perf</strong>：性能状态（P8，空闲状态）。</li>
<li><strong>Pwr:Usage/Cap</strong>：功耗（9W / 70W 最大）。</li>
<li><strong>Memory-Usage</strong>：显存使用（4 MiB / 15360 MiB，总共 15 GB）。</li>
<li><strong>GPU-Util</strong>：GPU 利用率（0%，空闲）。</li>
<li><strong>Compute M.</strong>：计算模式（Default，正常模式）。</li>
<li><strong>MIG M.</strong>：多实例 GPU 模式（N/A，未启用）。</li>
</ul>
<hr />
<h3 id="进程信息"><a class="header" href="#进程信息"><strong>进程信息</strong></a></h3>
<pre><code>No running processes found
</code></pre>
<p>说明当前没有程序在用这块 GPU。</p>
<hr />
<p>💡 总结：</p>
<ul>
<li>你这台服务器有一块 <strong>Tesla T4</strong> 显卡（15 GB 显存）。</li>
<li>驱动和 CUDA 都正常安装。</li>
<li>GPU 当前几乎空闲（0% 利用率，4MiB 显存占用）。</li>
<li>没有进程在使用 GPU。</li>
</ul>
</details>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="13-各领域入门--how-to-learn"><a class="header" href="#13-各领域入门--how-to-learn">13. 各领域入门 | How to Learn</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="-14-学海计划--patchouli-project"><a class="header" href="#-14-学海计划--patchouli-project">⭐ 14. 学海计划 | Patchouli Project</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="15-计算机科学简入门指南--computer-science-guide"><a class="header" href="#15-计算机科学简入门指南--computer-science-guide">15. 计算机科学简入门指南 | Computer Science Guide</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="心理学--psychology"><a class="header" href="#心理学--psychology">心理学 | Psychology</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p>我自己是理科生，却向往文学，其实这是一种非常美丽的倾向。理性与感性，本不该对立。科学让我们理解世界的运行机制，而文学则帮助我们理解人心、情感、命运与存在的意义。</p>
<hr />
<p>我曾觉文学貌似无用，在如今这个时代很难发挥出价值。后来我发觉是我太过于浅显，文学的意义其实简单的“为了生活”，在这个繁杂时代，文学是洗涤心灵的</p>
<p>我之所以写书，也有一部分原因是觉得这也是理解自己的一种方式。</p>
<blockquote>
<p><strong>“我曾觉文学貌似无用，在如今这个时代很难发挥出价值。”</strong></p>
</blockquote>
<p>这其实是许多人，尤其是理工背景出身者，对文学的第一印象。我们所受的教育、身处的时代，总是强调效率、实用、结果，仿佛所有一切都必须**“有用”<strong>才值得存在。然而文学，恰恰是那种</strong>不迎合实用主义，却滋养人的内在世界**的存在。</p>
<hr />
<h3 id="文学的无用之用正是它的深意"><a class="header" href="#文学的无用之用正是它的深意">文学的“无用之用”，正是它的深意</a></h3>
<blockquote>
<p><strong>“文学的意义其实简单的‘为了生活’，在这个繁杂时代，文学是洗涤心灵的。”</strong></p>
</blockquote>
<p>有一段非常美的表述：</p>
<blockquote>
<p>“人活着，不是单靠面包，而是靠诗。” —— 《圣经》</p>
</blockquote>
<p><strong>文学无法喂饱人，但它能让人不至于饿死在灵魂里。</strong></p>
<p>我们每天刷信息流、做计划、追目标，但这一切奔波之后，谁不曾有过午夜的孤独？谁不曾想过，活着到底是为了什么？这时，哪怕一句简单的诗句、一本老旧小说，可能都像一盏灯，在内心点亮一隅未曾照见的角落。</p>
<hr />
<h3 id="我对文学的看法"><a class="header" href="#我对文学的看法">我对文学的看法</a></h3>
<p><strong>文学，是人类灵魂的回声。</strong></p>
<p>在我看来，文学不是某种脱离现实的艺术装饰，而是对人类经验最深刻的记录方式。它让人类可以穿越时间、语言与文化的壁垒，彼此理解——无论是海明威笔下孤独的老人，还是鲁迅笔下麻木的中国人，都能让不同国度、不同时代的人感同身受。</p>
<hr />
<h3 id="为什么理科生会向往文学"><a class="header" href="#为什么理科生会向往文学">为什么理科生会向往文学？</a></h3>
<p>其实许多著名的理科大师都有深厚的文学素养。像费曼那样的物理学家，用极具想象力的语言解释宇宙；陈寅恪既是历史学者，也是诗人；维特根斯坦是逻辑哲学家，也热爱托尔斯泰的简朴文字。</p>
<p>作为理科生，习惯了精确、推演、逻辑的世界，久而久之可能会感到一种<strong>情感与意义的缺口</strong>。而文学恰恰补上了这一块——它不关心答案，而关心“为什么活着”“怎样去爱”“失败是否值得”。</p>
<hr />
<h3 id="文学的价值在哪里"><a class="header" href="#文学的价值在哪里">文学的价值在哪里？</a></h3>
<ol>
<li>
<p><strong>认知上的扩大</strong>
文学提供另一种理解世界的方式——通过情感、隐喻与叙事，而非方程和模型。</p>
</li>
<li>
<p><strong>表达上的自由</strong>
理科学术论文讲求严谨，但文学允许你模糊、不确定，甚至矛盾，它拥抱人性之复杂。</p>
</li>
<li>
<p><strong>精神上的慰藉</strong>
在忙碌、目标明确的理科世界之外，文学是你喘息、独处、沉思的地方。</p>
</li>
</ol>
<hr />
<h3 id="初学者如何亲近文学"><a class="header" href="#初学者如何亲近文学">初学者如何亲近文学？</a></h3>
<ul>
<li><strong>不要急着“读懂”</strong>，而是试着“感受”文字的节奏与情绪。</li>
<li><strong>从现代文学入手</strong>，比如村上春树、余华、张爱玲，这些作品语言较平易，情感真实。</li>
<li><strong>尝试写点东西</strong>，不管是随笔、短诗，哪怕只是日记，也是文学的一种。</li>
</ul>
<hr />
<h3 id="结语"><a class="header" href="#结语">结语</a></h3>
<p>科学告诉我们星星有多远，文学告诉我们，<strong>仰望星空是怎样的感觉</strong>。</p>
<p>你走进文学的这一步，是理性人格中的柔软部分在苏醒——这是成长的一部分，也是更完整的自己正在成型。</p>
<p>我希望自己能有更好的能力，将我理性所看到的世界，以极具优美的文字语句展示给世人!</p>
<blockquote>
<p>科学解释宇宙，文学理解人心。
科学仰望星辰，文学低头照见人世。
科学让你成为工程师，文学让你不忘自己是人。</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<hr />
<h1 id="年度阅读随想书本命运与内心的宁静"><a class="header" href="#年度阅读随想书本命运与内心的宁静">年度阅读随想：书本、命运与内心的宁静</a></h1>
<blockquote>
<p>“读书，是为了对抗虚无，是与无聊的生活握手言和的一种方式。”</p>
</blockquote>
<p>各位朋友好。今天想分享一段关于读书的随想，内容并不系统，也不完整，但希望对你有所启发。</p>
<p>起因是有同学问我：今年读过什么书？我才想起，原本打算每个月做一次读书总结，写推文或拍个视频。结果不了了之，连这个“许诺”都快忘了。当然，也有可能是故意以“记忆力下降”作为借口——毕竟，人总会习惯性逃避责任。</p>
<p>坦白说，我已经记不清这一年读了多少书了。很多时候，阅读只是为了驱赶内心的无聊，是一种“看似有意义”的自我安慰。苏格拉底曾说：“书籍是药物，既可为良方，也可成毒药。”阅读确实让人疲惫，有时甚至令人分心、焦躁。哲学家塞内卡提醒我们：读得太多，思维反而会混乱。</p>
<p>读书若成炫耀，是无知的另一种表现。买买买与读读读，本质上都是用来对抗虚无的。你看，“读”字中间为什么藏了个“买”字？也许正说明了我们无法通过任何形式填补内心的空虚。</p>
<p>读书不能让人变得高贵，炫耀读书则让人愚蠢。真正的阅读，是承认自己的有限，然后追求那遥不可及的“完美”。我们需要在信息与知识的海洋中找到锚点，而非漂浮不定。因为——脱离了对真理的追求，阅读最终只会加剧我们的浅薄与傲慢。</p>
<p>愿所有热爱阅读的朋友，都能在书籍中找到真正的喜悦与宁静。</p>
<hr />
<h2 id="一文学类命运中的温柔光亮"><a class="header" href="#一文学类命运中的温柔光亮">一、文学类：命运中的温柔光亮</a></h2>
<h3 id="1-井上靖孔子传"><a class="header" href="#1-井上靖孔子传">1. 井上靖《孔子传》</a></h3>
<p>一本让我重新理解“尽人事，听天命”的书。书中的孔子并不是神圣的道德符号，而是一个血肉丰盈的普通人。一个曾向学生子路感慨“道不行，乘桴浮于海”的人。他也曾想过“躺平”，但依然坚守自己的使命。</p>
<p>这本书让我意识到，真正的君子不是无懈可击，而是在困顿中依旧选择承担。</p>
<h3 id="2-肖仁福苏东坡传"><a class="header" href="#2-肖仁福苏东坡传">2. 肖仁福《苏东坡传》</a></h3>
<p>我在飞机上读完上半本，回家后一口气看完下半本。东坡是天才，但也是在苦难中绽放光芒的“生活家”。</p>
<p>他教会我：哪怕无法成为天才，也可以学学他的“做菜手法”——爱生活，不是爱生活的意义；爱身边的人，不是爱抽象的人类。</p>
<h3 id="3-王晓明无法直面的人生鲁迅传"><a class="header" href="#3-王晓明无法直面的人生鲁迅传">3. 王晓明《无法直面的人生：鲁迅传》</a></h3>
<p>这是一本刻画鲁迅思想历程的作品。鲁迅并非天生坚强，他和我们一样，也有挣扎与虚无。他的伟大，正在于他明知“人生无法直面”，却仍旧选择正视它。</p>
<h3 id="4-陈年喜微尘"><a class="header" href="#4-陈年喜微尘">4. 陈年喜《微尘》</a></h3>
<p>一位矿工诗人的纪实文学。他曾患尘肺病，用自己的笔记录下工友的故事。我家乡也曾是尘肺病高发区，读这本书让我意识到：写作并非炫技，它更是一种“责任”。</p>
<h3 id="5-蔡崇达命运"><a class="header" href="#5-蔡崇达命运">5. 蔡崇达《命运》</a></h3>
<p>一本让我落泪的小说。让我想起多年前一位学生送我他上一本书，他当时正纠结于“该读法律还是追梦艺术”。如今不知他是否听到了命运的召唤。</p>
<p>这本书让我再次感悟“尽人事，听天命”的意义：最关键的，是勇敢承担命运带来的责任——哪怕它总是突如其来，让人措手不及。</p>
<hr />
<h2 id="二历史类在时间深处反观当下"><a class="header" href="#二历史类在时间深处反观当下">二、历史类：在时间深处反观当下</a></h2>
<h3 id="1-罗新漫长的余生"><a class="header" href="#1-罗新漫长的余生">1. 罗新《漫长的余生》</a></h3>
<p>书中讲述一位北魏宫女的命运，以微观的方式揭示了权力的冷酷与制度的残忍。“子贵母死”制度令人唏嘘。出生在帝王之家，到底是幸运还是诅咒？</p>
<h3 id="2-李硕简明"><a class="header" href="#2-李硕简明">2. 李硕《简明》</a></h3>
<p>一本关于商朝人祭制度的系统研究。甲骨文中隐藏着许多“活人献祭”的痕迹。阅读这本书让我难以入眠，因其揭露的黑暗过于真实。</p>
<p>孔子尊周礼，也许正是为避免先祖之恶重演。理解历史，也许才能真正理解我们身处的现在。</p>
<h3 id="3-杨照史记的读法"><a class="header" href="#3-杨照史记的读法">3. 杨照《史记的读法》</a></h3>
<p>我总想通读《史记》，却一直停留在“买书阶段”。这本“导读”激起了我再次阅读的欲望。太史公穷其一生，写下《史记》，正是为了“究天人之际，通古今之变”。</p>
<hr />
<h2 id="三哲学类因果与自我的追问"><a class="header" href="#三哲学类因果与自我的追问">三、哲学类：因果与自我的追问</a></h2>
<p>哲学书看得不多，但每年总会读几本，或者在给学生办读书会时重温经典。</p>
<p>最有趣的一本，是柏拉图的对话剧本《尤西弗伦》。故事围绕一个儿子起诉父亲误杀的案子，展开“敬神”与“正义”的哲学讨论。</p>
<p>戏剧中的因果关系常常倒置。我们的人生亦是如此。我们以为的“原因”常常是“结果”，我们以为的“选择”其实是被动。</p>
<p>哲学是人生的镜像，它逼我们回答三个问题：</p>
<ul>
<li>你是谁？</li>
<li>你从哪来？</li>
<li>你要去哪？</li>
</ul>
<hr />
<h2 id="四杂项地理与记忆的边缘"><a class="header" href="#四杂项地理与记忆的边缘">四、杂项：地理与记忆的边缘</a></h2>
<h3 id="1-法特兰中亚行记"><a class="header" href="#1-法特兰中亚行记">1. 法特兰《中亚行记》</a></h3>
<p>一本让我认识“中亚五国”的旅行文学。读万卷书也要行千里路。这本书让我意识到：人类的偏见，常常源于“看得太少”。</p>
<h3 id="2-莱维被淹没与被拯救的"><a class="header" href="#2-莱维被淹没与被拯救的">2. 莱维《被淹没与被拯救的》</a></h3>
<p>反复读的一本书，关于集中营的回忆录。最堕落者往往是与你经历相同的人，而不是所谓的“他者”。困境之中，总有人被淹没，也总有人得以被拯救。</p>
<p>正如孔子所说：“君子固穷，小人穷斯滥矣。”</p>
<hr />
<h2 id="结语书是命运的馈赠"><a class="header" href="#结语书是命运的馈赠">结语：书，是命运的馈赠</a></h2>
<p>今年原本想总结十本书，结果越说越多，就当作是“十本左右”吧。也许阅读不是为了炫耀，而是为了在疲惫、迷茫与平庸之中，为心灵寻得一方清明。</p>
<p>愿每位阅读的朋友，都能在文字中与命运相遇，在书页中找到自己的“定海神针”。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="16测试内容"><a class="header" href="#16测试内容">16.测试内容</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p><code>GitBook</code> 和 <code>mdBook</code> 都是用于生成文档网站的工具，但它们在定位、生态和使用体验上有很大差异。以下是详细对比，帮你判断哪个更适合你使用：</p>
<hr />
<h2 id="-简要对比"><a class="header" href="#-简要对比">🔍 简要对比</a></h2>
<div class="table-wrapper"><table><thead><tr><th>项目</th><th>GitBook</th><th>mdBook</th></tr></thead><tbody>
<tr><td>语言</td><td>JavaScript / TypeScript</td><td>Rust</td></tr>
<tr><td>安装方式</td><td>云端服务为主，本地 CLI 安装较繁琐</td><td>单个二进制文件，跨平台，安装简单</td></tr>
<tr><td>输出格式</td><td>HTML（主打网页）</td><td>HTML、PDF（借助插件）、ePub 等</td></tr>
<tr><td>编辑方式</td><td>支持 Web 编辑器，也支持 Git 同步</td><td>Markdown 文件 + 配置文件</td></tr>
<tr><td>自定义程度</td><td>中等（托管平台限制较多）</td><td>高（全本地构建，主题/模板可自定义）</td></tr>
<tr><td>插件支持</td><td>有，但官方 GitBook 插件生态收缩</td><td>有社区插件系统，且活跃</td></tr>
<tr><td>适合对象</td><td>非技术用户、团队文档、产品说明书</td><td>开发者、技术文档、Rust 社区</td></tr>
<tr><td>开源程度</td><td>新 GitBook 不是开源（老版本才是）</td><td>完全开源（由 Rust 官方社区维护）</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="-各自优缺点"><a class="header" href="#-各自优缺点">🚀 各自优缺点</a></h2>
<h3 id="-gitbook-优点"><a class="header" href="#-gitbook-优点">🟢 GitBook 优点</a></h3>
<ul>
<li>✅ 所见即所得编辑器（网页版），上手快。</li>
<li>✅ 内置团队协作、版本管理、评论等功能。</li>
<li>✅ 云端托管省事，适合非技术团队或写作习惯 GUI 编辑的人。</li>
</ul>
<h3 id="-gitbook-缺点"><a class="header" href="#-gitbook-缺点">🔴 GitBook 缺点</a></h3>
<ul>
<li>❌ 商业化严重，新版需要注册账号，免费版功能有限。</li>
<li>❌ 本地部署和私有化支持很差（新版本不推荐本地使用）。</li>
<li>❌ 自定义功能弱，主题不好改。</li>
</ul>
<hr />
<h3 id="-mdbook-优点"><a class="header" href="#-mdbook-优点">🟢 mdBook 优点</a></h3>
<ul>
<li>✅ 轻量、开源、易安装，尤其适合技术人。</li>
<li>✅ 支持本地构建、离线阅读、自定义主题、代码高亮。</li>
<li>✅ 插件系统强大，比如 <code>mdbook-toc</code>、<code>mdbook-pdf</code>、<code>mdbook-katex</code>。</li>
<li>✅ 编写方式纯 Markdown，易于版本管理（Git）。</li>
</ul>
<h3 id="-mdbook-缺点"><a class="header" href="#-mdbook-缺点">🔴 mdBook 缺点</a></h3>
<ul>
<li>❌ 没有 Web 编辑器，对非开发者不太友好。</li>
<li>❌ 插件功能偶尔不稳定（如 PDF 需要 wkhtmltopdf 等额外依赖）。</li>
<li>❌ 多语言支持略微复杂，需额外配置。</li>
</ul>
<hr />
<h2 id="-如何选择"><a class="header" href="#-如何选择">🧠 如何选择？</a></h2>
<h3 id="-推荐使用-gitbook-如果你"><a class="header" href="#-推荐使用-gitbook-如果你">✅ 推荐使用 <strong>GitBook</strong> 如果你：</a></h3>
<ul>
<li>是非技术背景用户或内容创作者；</li>
<li>喜欢图形化界面；</li>
<li>不想折腾部署、渲染、主题等；</li>
<li>写的是产品文档、教程、团队手册等；</li>
<li>不介意云端托管；</li>
</ul>
<h3 id="-推荐使用-mdbook-如果你"><a class="header" href="#-推荐使用-mdbook-如果你">✅ 推荐使用 <strong>mdBook</strong> 如果你：</a></h3>
<ul>
<li>是开发者或技术人员；</li>
<li>想要本地构建或私有化部署；</li>
<li>需要高度自定义、Markdown 原生编辑；</li>
<li>在写 API 文档、技术规范、开源项目文档；</li>
<li>不介意命令行操作；</li>
</ul>
<hr />
<h2 id="-补充推荐"><a class="header" href="#-补充推荐">🔧 补充推荐</a></h2>
<p>如果你还在探索，也可以参考：</p>
<div class="table-wrapper"><table><thead><tr><th>工具</th><th>特点</th></tr></thead><tbody>
<tr><td>Docusaurus</td><td>React 构建，适合文档 + 博客混合站点</td></tr>
<tr><td>VitePress</td><td>Vue + Vite，轻量现代，写法简洁</td></tr>
<tr><td>Docsify</td><td>即时预览，纯前端部署，极简文档风格</td></tr>
</tbody></table>
</div>
<hr />
<hr />
<h1 id="mdbook-从零到大神学习路径"><a class="header" href="#mdbook-从零到大神学习路径">📘《mdBook 从零到大神》学习路径</a></h1>
<hr />
<h2 id="-第-0-阶段准备环境"><a class="header" href="#-第-0-阶段准备环境">🚦 第 0 阶段：准备环境</a></h2>
<h3 id="-目标"><a class="header" href="#-目标">🎯 目标</a></h3>
<p>学会安装和运行 mdBook 基础命令。</p>
<h3 id="-教程内容"><a class="header" href="#-教程内容">📚 教程内容</a></h3>
<ol>
<li>
<p>安装 Rust（mdBook 用 Rust 构建）</p>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
</li>
<li>
<p>安装 <code>mdBook</code>：</p>
<pre><code class="language-bash">cargo install mdbook
</code></pre>
</li>
<li>
<p>创建一本书：</p>
<pre><code class="language-bash">mdbook init my-book
cd my-book
mdbook serve
</code></pre>
<p>访问：<a href="http://localhost:3000">http://localhost:3000</a> 查看效果</p>
</li>
</ol>
<hr />
<h2 id="-第-1-阶段基础结构和-markdown-编写"><a class="header" href="#-第-1-阶段基础结构和-markdown-编写">🧱 第 1 阶段：基础结构和 Markdown 编写</a></h2>
<h3 id="-目标-1"><a class="header" href="#-目标-1">🎯 目标</a></h3>
<p>理解 mdBook 的目录结构、编辑方式。</p>
<h3 id="-教程内容-1"><a class="header" href="#-教程内容-1">📚 教程内容</a></h3>
<ul>
<li><code>book.toml</code>：配置文件</li>
<li><code>src/SUMMARY.md</code>：目录结构控制器</li>
<li>每个章节都用一个 <code>.md</code> 文件</li>
</ul>
<h3 id="-示例-1"><a class="header" href="#-示例-1">✅ 示例：</a></h3>
<pre><code class="language-md"># Summary

- [简介](README.md)
- [第一章](chapter_1.md)
  - [子章节](chapter_1_1.md)
</code></pre>
<hr />
<h2 id="-第-2-阶段样式美化与主题"><a class="header" href="#-第-2-阶段样式美化与主题">🎨 第 2 阶段：样式、美化与主题</a></h2>
<h3 id="-目标-2"><a class="header" href="#-目标-2">🎯 目标</a></h3>
<p>掌握样式自定义、插入图片、代码高亮等常见美化方式。</p>
<h3 id="-教程内容-2"><a class="header" href="#-教程内容-2">📚 教程内容</a></h3>
<ul>
<li>
<p>使用 Markdown 扩展：表格、脚注、数学公式（KaTeX）</p>
</li>
<li>
<p>图片插入：</p>
<pre><code class="language-md">![描述](./images/demo.png)
</code></pre>
</li>
<li>
<p>自定义 CSS：
新建 <code>theme</code> 文件夹 ➜ <code>book.toml</code> 里配置 <code>theme = ["./theme"]</code></p>
</li>
</ul>
<hr />
<h2 id="-第-3-阶段插件与高级功能"><a class="header" href="#-第-3-阶段插件与高级功能">⚙️ 第 3 阶段：插件与高级功能</a></h2>
<h3 id="-目标-3"><a class="header" href="#-目标-3">🎯 目标</a></h3>
<p>学会使用插件系统，扩展功能。</p>
<h3 id="-常用插件"><a class="header" href="#-常用插件">📚 常用插件</a></h3>
<div class="table-wrapper"><table><thead><tr><th>插件名</th><th>功能说明</th></tr></thead><tbody>
<tr><td><code>mdbook-toc</code></td><td>自动生成目录</td></tr>
<tr><td><code>mdbook-katex</code></td><td>数学公式支持</td></tr>
<tr><td><code>mdbook-mermaid</code></td><td>流程图、时序图支持</td></tr>
<tr><td><code>mdbook-pdf</code></td><td>导出 PDF（需安装 wkhtmltopdf）</td></tr>
</tbody></table>
</div>
<h4 id="示例启用-katex-插件"><a class="header" href="#示例启用-katex-插件">示例：启用 KaTeX 插件</a></h4>
<ol>
<li>
<p>安装插件：</p>
<pre><code class="language-bash">cargo install mdbook-katex
</code></pre>
</li>
<li>
<p><code>book.toml</code> 添加：</p>
<pre><code class="language-toml">[preprocessor.katex]
</code></pre>
</li>
</ol>
<hr />
<h2 id="-第-4-阶段部署与自动化"><a class="header" href="#-第-4-阶段部署与自动化">🛠️ 第 4 阶段：部署与自动化</a></h2>
<h3 id="-目标-4"><a class="header" href="#-目标-4">🎯 目标</a></h3>
<p>学会将 mdBook 自动部署到线上，例如 GitHub Pages。</p>
<h3 id="-教程内容-3"><a class="header" href="#-教程内容-3">📚 教程内容</a></h3>
<h4 id="github-actions-自动部署"><a class="header" href="#github-actions-自动部署">GitHub Actions 自动部署</a></h4>
<p><code>.github/workflows/deploy.yml</code>：</p>
<pre><code class="language-yaml">name: Deploy Book

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions-rs/toolchain@v1
      with:
        toolchain: stable
        override: true
    - run: cargo install mdbook
    - run: mdbook build
    - uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./book
</code></pre>
<hr />
<h2 id="-第-5-阶段自定义构建流程--插件开发"><a class="header" href="#-第-5-阶段自定义构建流程--插件开发">🧙 第 5 阶段：自定义构建流程 &amp; 插件开发</a></h2>
<h3 id="-目标-5"><a class="header" href="#-目标-5">🎯 目标</a></h3>
<p>可以为团队/项目开发自己的 mdBook 插件，或构建自己的模板系统。</p>
<h3 id="-教程内容-4"><a class="header" href="#-教程内容-4">📚 教程内容</a></h3>
<ul>
<li>
<p>插件结构规范：<a href="https://rust-lang.github.io/mdBook/for_developers/preprocessors.html">https://rust-lang.github.io/mdBook/for_developers/preprocessors.html</a></p>
</li>
<li>
<p>使用 Rust 编写插件（支持 JSON 与 stdin/stdout 通信）</p>
</li>
<li>
<p>示例插件结构：</p>
<pre><code>my-plugin/
  └─ src/main.rs
</code></pre>
</li>
</ul>
<hr />
<h2 id="-进阶资源推荐"><a class="header" href="#-进阶资源推荐">🏁 进阶资源推荐</a></h2>
<ul>
<li>官方文档：<a href="https://rust-lang.github.io/mdBook/">https://rust-lang.github.io/mdBook/</a></li>
<li>GitHub 示例：<a href="https://github.com/rust-lang/mdBook">https://github.com/rust-lang/mdBook</a></li>
<li>高级插件合集：<a href="https://github.com/azerupi/mdBook/wiki/Third-party-Plugins">https://github.com/azerupi/mdBook/wiki/Third-party-Plugins</a></li>
<li>社区主题：<a href="https://github.com/search?q=mdbook+theme">https://github.com/search?q=mdbook+theme</a></li>
</ul>
<hr />
<p>我将逐阶段带你走完整个流程（配套示例、代码文件、部署测试），像教程一样给你逐步讲解和演示。
那么现在我们就一步步走。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="mdbook-使用"><a class="header" href="#mdbook-使用">MdBook 使用</a></h1>
<hr />
<h2 id="1-windows-本机安装-mdbook"><a class="header" href="#1-windows-本机安装-mdbook">1. Windows 本机安装 mdBook</a></h2>
<h3 id="方法直接下载预编译的-mdbook"><a class="header" href="#方法直接下载预编译的-mdbook">方法：直接下载预编译的 mdBook</a></h3>
<ol>
<li>
<p>访问官方发布页：<a href="https://github.com/rust-lang/mdBook/releases">https://github.com/rust-lang/mdBook/releases</a></p>
</li>
<li>
<p>找到最新版本的 Windows 64-bit zip 文件（比如 <code>mdbook-v0.xx.x-x86_64-pc-windows-msvc.zip</code>）下载并解压</p>
</li>
<li>
<p>将解压出来的 <code>mdbook.exe</code> 复制到一个你喜欢的位置，比如：</p>
<pre><code>D:\tools\mdbook\
</code></pre>
</li>
<li>
<p><strong>配置环境变量</strong></p>
<p>把 <code>D:\tools\mdbook\</code> 这个路径添加到系统环境变量 <code>PATH</code> 中。</p>
<ul>
<li>右键“此电脑” → 属性 → 高级系统设置 → 环境变量 → 找到 <code>Path</code> → 编辑 → 新增 → 输入 <code>D:\tools\mdbook\</code></li>
</ul>
</li>
<li>
<p>重新打开命令行窗口，输入：</p>
<pre><code class="language-cmd">mdbook --version
</code></pre>
<p>如果看到版本号说明安装成功。</p>
</li>
</ol>
<hr />
<h3 id="二安装好后就可以继续之前的写书流程啦"><a class="header" href="#二安装好后就可以继续之前的写书流程啦">二、安装好后，就可以继续之前的写书流程啦：</a></h3>
<p>初始化书籍结构</p>
<pre><code class="language-cmd">mdbook init

</code></pre>
<ol>
<li>当出现提示：</li>
</ol>
<pre><code>Do you want a .gitignore to be created? (y/n)
</code></pre>
<p>输入 <code>y</code>，然后回车。</p>
<ol start="2">
<li>紧接着出现：</li>
</ol>
<pre><code>What title would you like to give the book?
</code></pre>
<p>这时候你需要输入书名，比如：</p>
<pre><code>我的第一本书
</code></pre>
<p>然后回车。</p>
<hr />
<ul>
<li>回答 <code>.gitignore</code> 提示时，输入：<code>y</code></li>
<li>回答标题时，输入你喜欢的书名，比如：<code>我的第一本书</code></li>
</ul>
<p>这样初始化的书才会有正确的标题。</p>
<hr />
<h2 id="2-启动本地预览服务器"><a class="header" href="#2-启动本地预览服务器">2. 启动本地预览服务器</a></h2>
<pre><code class="language-cmd">mdbook serve
</code></pre>
<p>浏览器打开 <a href="http://localhost:3000">http://localhost:3000</a> 就能看到你写的书。</p>
<hr />
<h2 id="3-你可以用文本编辑器如-vscode打开-srcreadmemd-和-srcsummarymd-修改内容和目录"><a class="header" href="#3-你可以用文本编辑器如-vscode打开-srcreadmemd-和-srcsummarymd-修改内容和目录">3. 你可以用文本编辑器（如 VSCode）打开 <code>src/README.md</code> 和 <code>src/SUMMARY.md</code> 修改内容和目录。</a></h2>
<hr />
<h2 id="4-目录介绍"><a class="header" href="#4-目录介绍">4. 目录介绍</a></h2>
<pre><code class="language-cmd">dir
</code></pre>
<hr />
<h3 id="-正确--有用的内容"><a class="header" href="#-正确--有用的内容">✅ 正确 &amp; 有用的内容：</a></h3>
<div class="table-wrapper"><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody>
<tr><td><code>book/</code></td><td>✅ <strong>mdBook 编译输出目录</strong>，会自动生成，不建议手动修改</td></tr>
<tr><td><code>book.toml</code></td><td>✅ <strong>项目配置文件</strong>，控制主题、构建设置等</td></tr>
<tr><td><code>src/</code></td><td>✅ <strong>写书内容目录</strong>，放你的 Markdown 章节</td></tr>
<tr><td><code>theme/</code></td><td>✅ （可选）<strong>自定义主题</strong>文件夹，如果你自定义了 CSS/HTML 就保留</td></tr>
<tr><td><code>.github/</code></td><td>✅ （可选）CI/CD 用，比如自动部署 GitHub Pages，用得上就保留</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p>好的！以下是你想要的：</p>
<hr />
<h2 id="-一mdbook-的目录结构说明基础结构"><a class="header" href="#-一mdbook-的目录结构说明基础结构">✅ 一、<code>mdBook</code> 的目录结构说明（基础结构）</a></h2>
<p>mdBook 项目的标准目录结构如下：</p>
<pre><code>your-book/
├── book.toml          # ✅ 配置文件，控制标题、主题、输出路径等
├── src/               # ✅ Markdown 内容目录（写书主要在这）
│   ├── SUMMARY.md     # ✅ 目录结构文件，控制章节顺序和导航
│   ├── README.md      # ✅ 首页内容，对应书的首页
│   ├── chapter_1.md   # ✅ 你的第一章（章节名自定义）
│   └── ...            # ✅ 其他章节
├── book/              # 🔁 构建生成的静态网页（`mdbook build` 自动生成）
├── theme/             # 🎨 可选，自定义主题目录（CSS/HTML）
└── .github/           # 🚀 可选，CI/CD 发布脚本目录（如 GitHub Pages）
</code></pre>
<hr />
<h2 id="-二booktoml-配置文件最小示例"><a class="header" href="#-二booktoml-配置文件最小示例">✅ 二、<code>book.toml</code> 配置文件（最小示例）</a></h2>
<pre><code class="language-toml">[book]
title = "我的第一本书"
author = "KEY mon"
language = "zh"

[output.html]
default-theme = "light"
</code></pre>
<hr />
<h2 id="-三summarymd目录结构控制"><a class="header" href="#-三summarymd目录结构控制">✅ 三、<code>SUMMARY.md</code>：目录结构控制</a></h2>
<p><code>src/SUMMARY.md</code> 是你书的<strong>目录导航</strong>，语法简单，用 Markdown 列表语法来组织章节：</p>
<pre><code class="language-md"># Summary

- [首页介绍](README.md)
- 第一部分
  - [第一章：起点](chapter_1.md)
  - [第二章：中途](chapter_2.md)
- 第二部分
  - [第三章：终点](chapter_3.md)
</code></pre>
<hr />
<h2 id="-四markdown-编写语法大全mdbook-支持的"><a class="header" href="#-四markdown-编写语法大全mdbook-支持的">✅ 四、Markdown 编写语法大全（mdBook 支持的）</a></h2>
<h3 id="-文本样式"><a class="header" href="#-文本样式">📄 文本样式</a></h3>
<pre><code class="language-md">**加粗**、*斜体*、~~删除线~~、`代码片段`
</code></pre>
<h3 id="-链接与图片"><a class="header" href="#-链接与图片">🔗 链接与图片</a></h3>
<pre><code class="language-md">[点击跳转](https://example.com)
![图片描述](https://example.com/image.png)
</code></pre>
<h3 id="-代码块"><a class="header" href="#-代码块">📦 代码块</a></h3>
<p>以 ``` 开头结尾</p>
<pre><code class="language-md">```rust
fn main() {
    println!("Hello mdBook!");
}
</code></pre>
<p>支持高亮的语言有：<code>rust</code>、<code>js</code>、<code>python</code>、<code>bash</code> 等</p>
<h3 id="-引用引用块"><a class="header" href="#-引用引用块">📌 引用（引用块）&gt;</a></h3>
<pre><code class="language-md">&gt; 这是引用文本
</code></pre>
<h3 id="-列表"><a class="header" href="#-列表">📋 列表</a></h3>
<ul>
<li>
<p>无序列表</p>
<ul>
<li>子项</li>
</ul>
</li>
</ul>
<ol>
<li>有序列表</li>
<li>第二项</li>
</ol>
<h3 id="-表格"><a class="header" href="#-表格">📐 表格</a></h3>
<pre><code class="language-md">| 名称     | 说明         |
|----------|--------------|
| `README` | 首页内容     |
| `SUMMARY`| 目录结构控制 |
</code></pre>
<h3 id="-提示框mdbook-特有"><a class="header" href="#-提示框mdbook-特有">🪧 提示框（mdBook 特有）</a></h3>
<p>mdBook 支持一些特别的注释块：</p>
<pre><code class="language-md">&gt; **注意：** 这是一个提示块

&gt; **提示：** 有用的建议

&gt; **警告：** 小心使用的内容
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p>接下来继续操作！你刚初始化了 mdBook，可以按这个流程继续：</p>
<ol>
<li>
<p><strong>编辑内容</strong></p>
<ul>
<li>
<p>进入 <code>src</code> 目录，里面有一个默认的 <code>SUMMARY.md</code>，这是书籍的目录结构文件。</p>
</li>
<li>
<p>你可以编辑 <code>SUMMARY.md</code>，添加章节链接，比如：</p>
<pre><code class="language-markdown"># Summary

- [第一章](chapter_1.md)
- [第二章](chapter_2.md)
</code></pre>
</li>
<li>
<p>同时在 <code>src</code> 目录新建对应的 Markdown 文件（比如 <code>chapter_1.md</code>、<code>chapter_2.md</code>），写你的书的具体内容。</p>
</li>
</ul>
</li>
<li>
<p><strong>预览书籍</strong></p>
<ul>
<li>
<p>在命令行运行：</p>
<pre><code class="language-bash">mdbook serve
</code></pre>
</li>
<li>
<p>这样会启动一个本地服务器，一般是 <code>http://localhost:3000</code>，打开浏览器访问就能实时预览你的电子书效果。</p>
</li>
</ul>
</li>
<li>
<p><strong>构建发布</strong></p>
<ul>
<li>
<p>内容写完，确认无误后，在命令行运行：</p>
<pre><code class="language-bash">mdbook build
</code></pre>
</li>
<li>
<p>这会生成静态文件到 <code>book</code> 目录，拿这个目录的内容部署到你的网页服务器或 GitHub Pages。</p>
</li>
</ul>
</li>
<li>
<p><strong>持续写作和管理</strong></p>
<ul>
<li>按需添加章节，修改内容，预览和构建，持续迭代。</li>
</ul>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<p>非常好！你已经写好了 mdBook 内容，现在只需 <strong>三步</strong> 就能完成：</p>
<blockquote>
<p>✅ 本地同步到 GitHub
✅ 后续更新也能同步
✅ 通过 GitHub Pages 自动部署网站</p>
</blockquote>
<p>最清晰、零废话的<strong>实操指南</strong>👇</p>
<hr />
<h2 id="-一准备-github-仓库"><a class="header" href="#-一准备-github-仓库">✅ 一、准备 GitHub 仓库</a></h2>
<ol>
<li>登录 <a href="https://github.com">https://github.com</a></li>
<li>新建一个仓库（repo），名字可以叫：<code>my-mdbook</code></li>
<li>不勾选 <code>README</code>、<code>gitignore</code>，保持干净空仓库</li>
</ol>
<p>记下仓库地址，例如：</p>
<pre><code class="language-bash">https://github.com/你的用户名/my-mdbook.git
</code></pre>
<hr />
<h2 id="-二将本地-mdbook-推送到-github-需要先下载git---参考第五节内容"><a class="header" href="#-二将本地-mdbook-推送到-github-需要先下载git---参考第五节内容">✅ 二、将本地 mdBook 推送到 GitHub (需要先下载Git - 参考第五节内容)</a></h2>
<h3 id="1-打开终端定位到你的项目根目录"><a class="header" href="#1-打开终端定位到你的项目根目录">1. 打开终端，定位到你的项目根目录</a></h3>
<p>假设你目录是 <code>D:\mdbook</code>：</p>
<pre><code class="language-bash">cd D:\mdbook
</code></pre>
<h3 id="2-初始化-git如果还没初始化"><a class="header" href="#2-初始化-git如果还没初始化">2. 初始化 Git（如果还没初始化）</a></h3>
<pre><code class="language-bash">git init
</code></pre>
<h3 id="3-添加远程仓库地址"><a class="header" href="#3-添加远程仓库地址">3. 添加远程仓库地址</a></h3>
<pre><code class="language-bash">git remote add origin https://github.com/你的用户名/my-mdbook.git
</code></pre>
<hr />
<h2 id="-官方版本的三条命令作用如下"><a class="header" href="#-官方版本的三条命令作用如下">✅ 官方版本的三条命令作用如下：</a></h2>
<pre><code class="language-bash">git remote add origin https://github.com/MonkeyLoveIU/my-mdbook.git  
git branch -M main  
git push -u origin main
</code></pre>
<hr />
<h2 id="-如果你刚初始化项目完整流程应是"><a class="header" href="#-如果你刚初始化项目完整流程应是">🧠 如果你刚初始化项目，完整流程应是：</a></h2>
<pre><code class="language-bash"># 1. 初始化本地仓库（你已完成）
git init

# 2. 添加所有文件
git add .

# 3. 创建首次提交（不能写 -M，应该是 -m）
git commit -m "initial commit"

# 4. 设置远程仓库地址
git remote add origin https://github.com/MonkeyLoveIU/my-mdbook.git

# 5. 重命名当前分支为 main（如非 main）
git branch -M main

# 6. 推送到远程 GitHub，并关联本地分支 （如果网络问题等未成功，请尝试SSH连接，参考第六节内容）
git push -u origin main
</code></pre>
<hr />
<h2 id="-tldr-总结一句话"><a class="header" href="#-tldr-总结一句话">✅ TL;DR 总结一句话：</a></h2>
<blockquote>
<p>✔️ <strong>你已经 commit 了，再执行这 3 条就足够了</strong>：</p>
</blockquote>
<pre><code class="language-bash">git remote add origin https://github.com/MonkeyLoveIU/my-mdbook.git  
git branch -M main  
git push -u origin main
</code></pre>
<p>否则，请记得先执行：</p>
<pre><code class="language-bash">git add .
git commit -m "initial commit"
</code></pre>
<hr />
<p>✅ 推送成功后，我们就可以进行 <strong>GitHub Pages 自动部署配置</strong>。</p>
<hr />
<h2 id="-三配置-github-pages-自动部署-mdbook-网站"><a class="header" href="#-三配置-github-pages-自动部署-mdbook-网站">✅ 三、配置 GitHub Pages 自动部署 mdBook 网站</a></h2>
<h3 id="方法一使用-github-actions-自动部署推荐"><a class="header" href="#方法一使用-github-actions-自动部署推荐">方法一：<strong>使用 GitHub Actions 自动部署（推荐）</strong></a></h3>
<p>mdBook 官方推荐使用 Actions 自动构建并发布到 <code>gh-pages</code> 分支。
你只需要<strong>添加一个 workflow 文件</strong>即可。</p>
<hr />
<h3 id="-1-创建目录-githubworkflows-和部署文件"><a class="header" href="#-1-创建目录-githubworkflows-和部署文件">🔧 1. 创建目录 <code>.github/workflows/</code> 和部署文件</a></h3>
<p>在你的本地项目中新建文件：</p>
<pre><code>.github/workflows/deploy.yml
</code></pre>
<p>内容如下（可直接复制）👇</p>
<pre><code class="language-yaml">
name: Deploy mdBook site to Pages

on: 
  # Runs on pushes targeting the default branch
  push: 
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Build job
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install Rust and mdBook
        run: |
          curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf -y | sh
          rustup update
          cargo install mdbook
      - name: Setup Pages
        id: pages
        uses: actions/configure-pages@v5
      - name: Build with mdBook
        run: mdbook build
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./book

  # Deployment job
  deploy: 
    environment: 
      name: github-pages 
      url: ${{ steps.deployment.outputs.page_url }} 
    runs-on: ubuntu-latest 
    needs: build 
    steps: 
      - name: Deploy to GitHub Pages 
        id: deployment 
        uses: actions/deploy-pages@v4

</code></pre>
<hr />
<h3 id="-2-启用-github-pages"><a class="header" href="#-2-启用-github-pages">🔧 2. 启用 GitHub Pages</a></h3>
<p>进入你的仓库页面：</p>
<ul>
<li>
<p>点右上角 <code>⚙️ Settings</code></p>
</li>
<li>
<p>左边栏点击 <code>Pages</code></p>
</li>
<li>
<p>选择：</p>
<ul>
<li><code>Source</code> → <code>Deploy from a branch</code></li>
<li><code>Branch</code> → <code>main</code></li>
<li><code>Folder</code> → <code>/ (root)</code></li>
</ul>
</li>
</ul>
<p>然后保存 ✅</p>
<p>🚀 你的 mdBook 网页就发布了，地址是：</p>
<pre><code>https://你的用户名.github.io/仓库名/
</code></pre>
<hr />
<h2 id="-四后续更新流程"><a class="header" href="#-四后续更新流程">✅ 四、后续更新流程</a></h2>
<ol>
<li>修改你的 Markdown 或样式文件</li>
<li>使用 Git 提交并推送：</li>
</ol>
<pre><code class="language-bash">git add .
git commit -m "更新内容"
git push
</code></pre>
<p>add 命令</p>
<h3 id="1-同时添加多个文件"><a class="header" href="#1-同时添加多个文件">1. <strong>同时添加多个文件</strong></a></h3>
<p>你可以在一个 <code>git add</code> 命令中列出多个文件，像这样：</p>
<pre><code class="language-bash">git add src/chapter2.md SUMMARY.md
</code></pre>
<p>这会将 <strong><code>chapter2.md</code></strong> 和 <strong><code>SUMMARY.md</code></strong> 文件都添加到暂存区。</p>
<hr />
<h3 id="2-添加整个目录"><a class="header" href="#2-添加整个目录">2. <strong>添加整个目录</strong></a></h3>
<p>如果你想添加某个目录下的所有文件，可以使用：</p>
<pre><code class="language-bash">git add src/
</code></pre>
<p>这会将 <code>src/</code> 目录下的所有修改过的文件添加到暂存区。如果你只想添加特定类型的文件（比如 <code>.md</code> 文件），也可以使用通配符：</p>
<pre><code class="language-bash">git add src/*.md
</code></pre>
<hr />
<h3 id="3-一次性添加所有修改的文件"><a class="header" href="#3-一次性添加所有修改的文件">3. <strong>一次性添加所有修改的文件</strong></a></h3>
<p>如果你想一次性添加所有已修改的文件，可以使用：</p>
<pre><code class="language-bash">git add .
</code></pre>
<p>这个命令会把当前目录下的所有已修改和新增的文件都添加到暂存区。</p>
<hr />
<h3 id="4-查看暂存区内容"><a class="header" href="#4-查看暂存区内容">4. <strong>查看暂存区内容</strong></a></h3>
<p>你可以在 <code>git add</code> 之后，使用以下命令来查看已经加入暂存区的文件：</p>
<pre><code class="language-bash">git status
</code></pre>
<p>这会列出所有已暂存的文件，帮助你确认是否所有需要的文件都被添加。</p>
<hr />
<h3 id="5-提交所有文件"><a class="header" href="#5-提交所有文件">5. <strong>提交所有文件</strong></a></h3>
<p>一旦你将文件添加到暂存区，执行以下命令提交所有更改：</p>
<pre><code class="language-bash">git commit -m "Add Chapter 2 and update SUMMARY.md"
git push
</code></pre>
<hr />
<ol start="3">
<li>然后 <strong>GitHub 会自动构建并发布</strong></li>
</ol>
<p>你只需要等待 1~2 分钟后刷新网页即可看到更新 ✨</p>
<hr />
<hr />
<h2 id="-总结流程图"><a class="header" href="#-总结流程图">🎯 总结流程图</a></h2>
<pre><code>[本地 mdBook 项目]
       ↓
  git push 到 main 分支
       ↓
[GitHub Actions 自动构建]
       ↓
  构建 book/ 输出目录
       ↓
自动部署到 gh-pages 分支
       ↓
  GitHub Pages 发布网页
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h3 id="-一安装-git-for-windows"><a class="header" href="#-一安装-git-for-windows">🔧 一、安装 Git for Windows</a></h3>
<ol>
<li>打开官网：<a href="https://git-scm.com">https://git-scm.com</a></li>
<li>点击绿色按钮 <code>Download for Windows</code>（会自动识别版本）</li>
<li>下载后双击安装，<strong>一路默认即可</strong>，但注意下面几点设置：</li>
</ol>
<h3 id="-安装时建议保留的关键选项"><a class="header" href="#-安装时建议保留的关键选项">✅ 安装时建议保留的关键选项：</a></h3>
<p>你现在看到的是 Git for Windows 安装过程中的 “<strong>Additional Icons</strong>（附加选项）” 页面，
以下是每个选项的作用，以及我推荐是否勾选的建议 ✅</p>
<hr />
<h2 id="-推荐勾选的选项如下"><a class="header" href="#-推荐勾选的选项如下">✅ 推荐勾选的选项如下：</a></h2>
<div class="table-wrapper"><table><thead><tr><th>选项</th><th>推荐</th><th>原因</th></tr></thead><tbody>
<tr><td>✅ <strong>Windows Explorer integration</strong></td><td>✔️</td><td>在资源管理器右键菜单中添加 Git（超实用）</td></tr>
<tr><td>✅ <strong>Open Git Bash here</strong></td><td>✔️</td><td>右键任意文件夹快速打开 Git Bash</td></tr>
<tr><td>✅ <strong>Open Git GUI here</strong></td><td>✔️</td><td>如果你想用图形界面操作 Git，可保留</td></tr>
<tr><td>⛔ <strong>Git LFS (Large File Support)</strong></td><td>❌</td><td>如果你不管理大文件（如视频、模型等），不用选</td></tr>
<tr><td>✅ <strong>Associate .git* configuration files with text editor</strong></td><td>✔️</td><td><code>.gitconfig</code> 等文件可自动用编辑器打开</td></tr>
<tr><td>✅ <strong>Associate .sh files to run with Bash</strong></td><td>✔️</td><td>方便执行 <code>.sh</code> 脚本文件（尤其是你以后学 Linux）</td></tr>
<tr><td>⛔ <strong>Check daily for Git for Windows updates</strong></td><td>❌</td><td>不推荐，每天弹窗很烦，可以手动更新</td></tr>
<tr><td>✅ <strong>(NEW!) Add a Git Bash Profile to Windows Terminal</strong></td><td>✔️</td><td>如果你用 Win10/11 的 Windows Terminal，推荐选</td></tr>
</tbody></table>
</div>
<h2 id="-最终推荐勾选如下"><a class="header" href="#-最终推荐勾选如下">✅ 最终推荐勾选如下：</a></h2>
<p>✅ 建议你勾选这些：</p>
<ul>
<li>✔ Windows Explorer integration</li>
<li>✔ Open Git Bash here</li>
<li>✔ Open Git GUI here（可选）</li>
<li>❌ Git LFS</li>
<li>✔ Associate <code>.git*</code> files</li>
<li>✔ Associate <code>.sh</code> files</li>
<li>❌ Check daily updates</li>
<li>✔ Add Git Bash to Windows Terminal（推荐）</li>
</ul>
<hr />
<h2 id="-总结一句话"><a class="header" href="#-总结一句话">💡 总结一句话：</a></h2>
<blockquote>
<p>安装时除了 <code>Git LFS</code> 和 <code>Check for updates</code> 不勾选，其余都可以选 ✔️，不影响 Git 的正常使用，还能提升体验。</p>
</blockquote>
<hr />
<h3 id="-安装完成后你可以重新打开命令行重要"><a class="header" href="#-安装完成后你可以重新打开命令行重要">🔄 安装完成后，你可以重新打开命令行（重要！）：</a></h3>
<p>然后输入：</p>
<pre><code class="language-bash">git --version
</code></pre>
<p>看到类似输出：</p>
<pre><code>git version 2.44.0.windows.1
</code></pre>
<p>说明安装成功 ✅</p>
<hr />
<h3 id="-附赠安装完-git你会获得这些工具"><a class="header" href="#-附赠安装完-git你会获得这些工具">📦 附赠：安装完 Git，你会获得这些工具：</a></h3>
<div class="table-wrapper"><table><thead><tr><th>工具</th><th>用法</th></tr></thead><tbody>
<tr><td><code>git</code></td><td>用于版本控制、同步到 GitHub</td></tr>
<tr><td><strong>Git Bash</strong></td><td>类 Unix 的终端，支持更强命令（推荐使用）</td></tr>
<tr><td><strong>Git GUI</strong></td><td>可视化操作工具</td></tr>
</tbody></table>
</div>
<hr />
<h3 id="-然后你就可以继续"><a class="header" href="#-然后你就可以继续">🧭 然后你就可以继续：</a></h3>
<pre><code class="language-bash">cd D:\mdbook
git init
git add .
git commit -m "initial commit"
git push -u origin main
</code></pre>
<hr />
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h3 id="git教程创建ssh密钥并连接到github"><a class="header" href="#git教程创建ssh密钥并连接到github"><strong>Git教程：创建SSH密钥并连接到GitHub</strong></a></h3>
<p>在这篇博文中，我们将学习如何生成SSH密钥，并将其添加到你的GitHub帐户，以便你可以安全地连接和管理你的远程仓库。
<a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">Github官方教程</a></p>
<h4 id="第一步创建ssh密钥"><a class="header" href="#第一步创建ssh密钥"><strong>第一步：创建SSH密钥</strong></a></h4>
<p>首先，我们需要在你的本地计算机上创建一个SSH密钥。打开你的终端或Git Bash，然后输入以下命令：</p>
<pre><code class="language-bash">ssh-keygen -t ed25519 -C "1007840220@qq.com"
"
</code></pre>
<ul>
<li><code>-C "your_email@example.com"</code>：提供一个注释，通常是你的电子邮件地址，以便于识别。</li>
</ul>
<p>执行此命令后，系统会提示你输入文件的保存位置和密码。你可以直接按Enter键接受默认位置，并选择是否设置密码。如果你设置了密码，每次使用SSH密钥时都需要输入该密码。</p>
<h4 id="第二步将ssh公钥添加到github"><a class="header" href="#第二步将ssh公钥添加到github"><strong>第二步：将SSH公钥添加到GitHub</strong></a></h4>
<p>位置默认: C:\Users\当前用户（例如：lenovo）.ssh</p>
<p>创建密钥后，你需要将公钥（<code>.pub</code>文件）的内容添加到你的GitHub帐户中。</p>
<ol>
<li>
<p><strong>复制公钥内容</strong>：
在你的终端中，使用<code>cat</code>命令来显示并复制公钥的内容：</p>
<pre><code class="language-bash">cat ~/.ssh/id_rsa.pub
</code></pre>
</li>
<li>
<p><strong>在GitHub上添加公钥</strong>：</p>
<ul>
<li>登录到你的GitHub帐户。</li>
<li>点击右上角的个人头像，然后选择<strong>Settings</strong>。</li>
<li>在左侧菜单中，选择<strong>SSH and GPG keys</strong>。</li>
<li>点击<strong>New SSH key</strong>按钮。</li>
<li>在<strong>Title</strong>字段中，为你的密钥起一个容易识别的名称（例如，“My Laptop”）。</li>
<li>将你复制的公钥内容粘贴到<strong>Key</strong>字段中。</li>
<li>点击<strong>Add SSH key</strong>。</li>
</ul>
</li>
</ol>
<h4 id="第三步测试连接"><a class="header" href="#第三步测试连接"><strong>第三步：测试连接</strong></a></h4>
<p>现在，你可以通过在终端中运行以下命令来测试你与GitHub的SSH连接：</p>
<pre><code class="language-bash">ssh -T git@github.com
</code></pre>
<p>如果你看到一条包含你用户名的欢迎消息，那么恭喜你，你已经成功地设置了SSH密钥并连接到了GitHub！</p>
<hr />
<h3 id="配置-git-远程地址为-ssh"><a class="header" href="#配置-git-远程地址为-ssh">配置 Git 远程地址为 SSH</a></h3>
<pre><code class="language-bash">git remote set-url origin git@github.com:用户名/仓库名.git
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h2 id="-改进目标"><a class="header" href="#-改进目标">✅ 改进目标</a></h2>
<ol>
<li><strong>将时间信息插入到文首</strong>（而不是结尾）</li>
<li><strong>格式更优雅，使用 <code>::: info</code> 块或者引用块，美观统一</strong></li>
<li><strong>防止重复插入</strong></li>
<li><strong>自动跳过 <code>SUMMARY.md</code> 等特殊文件</strong></li>
</ol>
<hr />
<h2 id="-优化后的脚本-insert_timestamppy"><a class="header" href="#-优化后的脚本-insert_timestamppy">🧩 优化后的脚本 <code>insert_timestamp.py</code></a></h2>
<p>请将你原来的脚本内容全部替换为以下内容：</p>
<pre><code class="language-python">import os
import time

EXCLUDE_FILES = ['SUMMARY.md', 'README.md']
TIME_MARKER = '&lt;!-- timestamp inserted --&gt;'

def get_times(filepath):
    stat = os.stat(filepath)
    create_time = time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(stat.st_ctime))
    modify_time = time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(stat.st_mtime))
    return create_time, modify_time

def insert_time_block(content, create_time, modify_time):
    block = f"""{TIME_MARKER}
&gt; 📄 创建时间：{create_time}  
&gt; 🛠️ 修改时间：{modify_time}

"""
    return block + content

def insert_time_info(filepath):
    with open(filepath, 'r', encoding='utf-8') as f:
        content = f.read()

    if TIME_MARKER in content:
        return  # 已插入，跳过

    create_time, modify_time = get_times(filepath)
    new_content = insert_time_block(content, create_time, modify_time)

    with open(filepath, 'w', encoding='utf-8') as f:
        f.write(new_content)

def run():
    for root, dirs, files in os.walk('.'):
        for file in files:
            if file.endswith('.md') and file not in EXCLUDE_FILES:
                insert_time_info(os.path.join(root, file))

if __name__ == '__main__':
    run()
</code></pre>
<hr />
<h2 id="-效果预览"><a class="header" href="#-效果预览">📌 效果预览</a></h2>
<p>运行后，你的每篇 Markdown 会变成这样：</p>
<pre><code class="language-markdown">&lt;!-- timestamp inserted --&gt;
&gt; 📄 创建时间：2025-07-31 02:45:12  
&gt; 🛠️ 修改时间：2025-07-31 15:27:55

# 第一章：序言

……
</code></pre>
<hr />
<h2 id="-现在你可以"><a class="header" href="#-现在你可以">🧪 现在你可以：</a></h2>
<ol>
<li>把上面脚本复制保存为 <code>insert_timestamp.py</code></li>
<li>打开终端，切换到你的 mdBook 项目目录</li>
<li>执行命令：</li>
</ol>
<pre><code class="language-bash">python insert_timestamp.py
</code></pre>
<p>再打开一篇 <code>.md</code> 文件看看是否时间插入成功了 ✅</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<hr />
<h2 id="-全流程在-mdbook-中启用数学公式katex-支持"><a class="header" href="#-全流程在-mdbook-中启用数学公式katex-支持">🧭 全流程：在 mdBook 中启用数学公式（KaTeX 支持）</a></h2>
<h3 id="前提你要使用的方法是官方推荐的-mdbook-katex-插件"><a class="header" href="#前提你要使用的方法是官方推荐的-mdbook-katex-插件">📍前提：你要使用的方法是「官方推荐的 <code>mdbook-katex</code> 插件」</a></h3>
<hr />
<h3 id="-第一步确认是否安装了-rustmdbook-是-rust-项目"><a class="header" href="#-第一步确认是否安装了-rustmdbook-是-rust-项目">✅ 第一步：确认是否安装了 Rust（mdbook 是 Rust 项目）</a></h3>
<p>在终端中运行：</p>
<pre><code class="language-bash">rustc --version
</code></pre>
<p>如果提示 <code>command not found</code> 或不是版本号，说明你还没装 Rust。</p>
<h4 id="-没装那就执行这条命令安装-rust"><a class="header" href="#-没装那就执行这条命令安装-rust">➕ 没装？那就执行这条命令安装 Rust：</a></h4>
<p>这个提示说明：<strong>你的系统中还没有安装 Rust</strong>，或者安装了但没有添加到环境变量中。</p>
<hr />
<h2 id="-你需要先安装-rust-才能使用-mdbook-katex-插件"><a class="header" href="#-你需要先安装-rust-才能使用-mdbook-katex-插件">✅ 你需要先安装 Rust 才能使用 <code>mdbook-katex</code> 插件</a></h2>
<p>mdBook 是用 Rust 编写的工具，它的插件（例如 <code>mdbook-katex</code>）也都是通过 Rust 的构建工具 <code>cargo</code> 来安装的。所以我们第一步要做的就是：</p>
<hr />
<h3 id="-一步安装-rust包括-cargo-和-rustc"><a class="header" href="#-一步安装-rust包括-cargo-和-rustc">✅ 一步安装 Rust（包括 cargo 和 rustc）：</a></h3>
<p>请在 PowerShell 中复制并运行以下命令：</p>
<pre><code class="language-powershell">Invoke-WebRequest -Uri https://win.rustup.rs -OutFile rustup-init.exe; Start-Process .\rustup-init.exe
</code></pre>
<blockquote>
<p>这是官方提供的 Rust 安装器，会弹出一个安装界面，默认选项一般就可以。</p>
</blockquote>
<hr />
<p>Rust 安装程序在 Windows 上的一个提示，意思是：</p>
<blockquote>
<p>Rust 编译器需要一些 Windows 系统组件（比如链接器、API 头文件），而你的系统目前没有这些。</p>
</blockquote>
<p>这是正常的，<strong>在 Windows 上安装 Rust 时，必须配合安装 C++ 构建工具（来自 Visual Studio）</strong> 才能正常使用。</p>
<hr />
<h2 id="-推荐选择输入-1-然后回车自动下载安装"><a class="header" href="#-推荐选择输入-1-然后回车自动下载安装">✅ 推荐选择：<strong>输入 <code>1</code> 然后回车</strong>（自动下载安装）</a></h2>
<p>这是最简单的方式，会帮你：</p>
<ul>
<li>安装 <strong>Visual Studio 的最小依赖版本</strong></li>
<li>包含 Rust 构建所需的 C++ 工具链（如 <code>link.exe</code>, <code>cl.exe</code>）</li>
</ul>
<p>输入：</p>
<pre><code class="language-text">1
</code></pre>
<p>然后回车。</p>
<p>它会启动 <strong>Visual Studio Installer</strong> 并自动下载“C++构建工具”，这对 mdBook 插件（如 <code>mdbook-katex</code>）安装是必要的。</p>
<hr />
<h3 id="-选项解释供你参考"><a class="header" href="#-选项解释供你参考">🧭 选项解释（供你参考）：</a></h3>
<div class="table-wrapper"><table><thead><tr><th>选项</th><th>说明</th><th>是否推荐</th></tr></thead><tbody>
<tr><td>1</td><td>自动安装 Visual Studio C++ 编译组件（推荐）</td><td>✅ 推荐</td></tr>
<tr><td>2</td><td>手动安装依赖，适合高级用户</td><td>❌ 新手不建议</td></tr>
<tr><td>3</td><td>不安装，仅限特殊情况（如目标是 GNU ABI）</td><td>❌ 一般不要选</td></tr>
</tbody></table>
</div>
<hr />
<h3 id="-下载时间说明"><a class="header" href="#-下载时间说明">⏳ 下载时间说明：</a></h3>
<ul>
<li>这个安装包是 Visual Studio C++ 编译环境的一部分（通常在 500MB 左右）。</li>
<li>过程可能需要 5~15 分钟，取决于你的网络。</li>
</ul>
<p>安装完成后重新打开终端，就可以运行：</p>
<pre><code class="language-bash">cargo install mdbook-katex
</code></pre>
<hr />
<p>如果你在安装过程中遇到任何问题（比如下载失败、权限不足），告诉我，我可以帮你处理或给出手动安装的方法。完成后我们就可以继续构建支持数学公式的 mdBook！</p>
<h3 id="-安装完成后"><a class="header" href="#-安装完成后">🧭 安装完成后：</a></h3>
<ol>
<li>
<p><strong>重启 PowerShell 或终端</strong>（非常重要！）让环境变量生效。</p>
</li>
<li>
<p>验证安装是否成功：</p>
<pre><code class="language-bash">rustc --version
cargo --version
</code></pre>
<p>如果看到版本号，比如：</p>
<pre><code class="language-bash">rustc 1.75.0
cargo 1.75.0
</code></pre>
<p>就说明你已经成功安装 Rust ✅</p>
</li>
</ol>
<hr />
<h3 id="-接下来你就可以继续"><a class="header" href="#-接下来你就可以继续">🧱 接下来你就可以继续：</a></h3>
<pre><code class="language-bash">cargo install mdbook-katex
</code></pre>
<p>然后编辑 <code>book.toml</code>，插入公式，构建项目，一步步启用公式支持。</p>
<hr />
<h1 id="2-rust-环境手动安装适用于-windows--macos--linux"><a class="header" href="#2-rust-环境手动安装适用于-windows--macos--linux">2. Rust 环境手动安装（适用于 Windows / macOS / Linux）</a></h1>
<h2 id="-第-1-步安装-rust-工具链"><a class="header" href="#-第-1-步安装-rust-工具链">📌 第 1 步：安装 Rust 工具链</a></h2>
<p>Rust 官方提供了一个安装工具 <code>rustup</code>，它会自动安装好以下内容：</p>
<ul>
<li><code>rustc</code>：Rust 编译器</li>
<li><code>cargo</code>：Rust 构建工具和包管理器</li>
<li><code>rustup</code>：版本管理器</li>
</ul>
<hr />
<h2 id="-一windows-安装"><a class="header" href="#-一windows-安装">💻 一、Windows 安装</a></h2>
<h3 id="-方法一使用官方安装器推荐"><a class="header" href="#-方法一使用官方安装器推荐">✅ 方法一：使用官方安装器（推荐）</a></h3>
<ol>
<li>打开官网 <a href="https://www.rust-lang.org/">https://rust-lang.org</a></li>
<li>点击 “Get Started”</li>
<li>下载 <code>rustup-init.exe</code> 安装器并运行</li>
<li>会弹出命令行窗口，输入 <code>1</code> 开始默认安装（或直接回车）</li>
</ol>
<p>📦 安装完成后，关闭窗口，重新打开 <strong>PowerShell 或 CMD</strong>，输入：</p>
<pre><code class="language-bash">rustc --version
cargo --version
</code></pre>
<p>✅ 出现版本号说明安装成功。</p>
<hr />
<h3 id="-方法二使用命令行安装"><a class="header" href="#-方法二使用命令行安装">✅ 方法二：使用命令行安装</a></h3>
<p>如果你喜欢命令行操作：</p>
<ol>
<li>打开 PowerShell 或 CMD</li>
<li>输入以下命令：</li>
</ol>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<ol start="3">
<li>跟随提示按 Enter 回车安装即可。</li>
</ol>
<hr />
<h2 id="-二macos-安装"><a class="header" href="#-二macos-安装">🍎 二、macOS 安装</a></h2>
<h3 id="-使用-homebrew推荐"><a class="header" href="#-使用-homebrew推荐">✅ 使用 Homebrew（推荐）</a></h3>
<p>打开终端，输入：</p>
<pre><code class="language-bash">brew install rustup-init
rustup-init
</code></pre>
<p>按提示安装即可。完成后重启终端，检查版本：</p>
<pre><code class="language-bash">rustc --version
cargo --version
</code></pre>
<hr />
<h2 id="-三linux-安装"><a class="header" href="#-三linux-安装">🐧 三、Linux 安装</a></h2>
<h3 id="-通用安装命令"><a class="header" href="#-通用安装命令">✅ 通用安装命令：</a></h3>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<hr />
<p>提示：</p>
<pre><code class="language-bash">Rust requires a linker and Windows API libraries but they don't seem to be
available.
 
These components can be acquired through a Visual Studio installer. 
 
1) Quick install via the Visual Studio Community installer 
   (free for individuals, academic uses, and open source). 
 
2) Manually install the prerequisites 
   (for enterprise and advanced users). 
 
3) Don't install the prerequisites 
   (if you're targeting the GNU ABI). 

</code></pre>
<p>这个提示是 Rust 编译器找不到 <strong>链接器（linker）</strong>，也就是说编译 Rust 代码时，需要用到的 Windows 系统底层工具没安装好。具体原因和解决方案如下：</p>
<hr />
<h2 id="❶-产生原因"><a class="header" href="#❶-产生原因">❶ 产生原因</a></h2>
<ul>
<li>Rust 编译器需要调用微软的 C++ 编译工具链（MSVC），包括链接器 <code>link.exe</code>。</li>
<li>你的系统没安装 Visual Studio 相关的 <strong>C++ 构建工具</strong>，或者没安装 Windows SDK。</li>
<li>如果你用的是 <strong>MSVC 版本的 Rust</strong>（默认），就必须安装微软提供的工具链。</li>
</ul>
<hr />
<h2 id="❷-解决方案"><a class="header" href="#❷-解决方案">❷ 解决方案</a></h2>
<h3 id="方法一安装-visual-studio-的c桌面开发工作负载"><a class="header" href="#方法一安装-visual-studio-的c桌面开发工作负载">方法一：安装 Visual Studio 的“C++桌面开发”工作负载</a></h3>
<ol>
<li>
<p>如果没装 Visual Studio，可以从官网免费安装：</p>
<p><a href="https://visualstudio.microsoft.com/zh-hans/downloads/">https://visualstudio.microsoft.com/zh-hans/downloads/</a></p>
<p>选择 <strong>Visual Studio Community 2022</strong>。</p>
</li>
<li>
<p>运行安装程序，选择以下工作负载（Workloads）：</p>
<ul>
<li>“使用 C++ 的桌面开发” (Desktop development with C++)</li>
</ul>
</li>
<li>
<p>安装完成后，Rust 就能找到必要的链接器。</p>
</li>
</ol>
<hr />
<h3 id="方法二只安装构建工具build-tools-for-visual-studio"><a class="header" href="#方法二只安装构建工具build-tools-for-visual-studio">方法二：只安装“构建工具”（Build Tools for Visual Studio）</a></h3>
<p>如果你不想安装完整的 VS IDE，只需安装：</p>
<p><a href="https://aka.ms/buildtools">https://aka.ms/buildtools</a></p>
<p>安装时勾选：</p>
<ul>
<li>C++ build tools</li>
<li>Windows 10 SDK（或你系统对应版本的 SDK）</li>
</ul>
<hr />
<h3 id="方法三安装-mingw-w64-并切换-rust-到-gnu-abi"><a class="header" href="#方法三安装-mingw-w64-并切换-rust-到-gnu-abi">方法三：安装 <code>mingw-w64</code> 并切换 Rust 到 GNU ABI</a></h3>
<p>这是另一种方案，但较少用。除非你熟悉 GNU 工具链，否则建议前两种。</p>
<hr />
<h2 id="❸-如何验证"><a class="header" href="#❸-如何验证">❸ 如何验证</a></h2>
<p>安装好 Visual Studio 的 C++ 工具后， 打开Rust安装，重新打开终端，执行：</p>
<pre><code class="language-bash">



The Cargo home directory is located at:
 
  C:\Users\lenovo\.cargo 
 
This can be modified with the CARGO_HOME environment variable. 
 
The cargo, rustc, rustup and other commands will be added to 
Cargo's bin directory, located at: 
 
  C:\Users\lenovo\.cargo\bin 
 
This path will then be added to your PATH environment variable by 
modifying the PATH registry key at HKEY_CURRENT_USER\Environment. 
 
You can uninstall at any time with rustup self uninstall and
these changes will be reverted.
 
Current installation options: 
 
 
   default host triple: x86_64-pc-windows-msvc 
     default toolchain: stable (default) 
               profile: default 
  modify PATH variable: yes 
 
1) Proceed with standard installation (default - just press enter) 
2) Customize installation 
3) Cancel installation 
&gt;















Microsoft Windows [版本 10.0.26100.4652]
(c) Microsoft Corporation。保留所有权利。

C:\Users\lenovo&gt;cargo --version
cargo 1.88.0 (873a06493 2025-05-10)

C:\Users\lenovo&gt;rustc --version
rustc 1.88.0 (6b00bc388 2025-06-23)

C:\Users\lenovo&gt;D:

D:\&gt;cd \mdbook

D:\mdbook&gt;cargo install mdbook-katex
</code></pre>
<p>太好了！你现在已经运行到了 Rust 安装器的关键界面 ✅
只需要做一件事：</p>
<hr />
<h2 id="-直接按下-enter-键选择默认的第-1-项"><a class="header" href="#-直接按下-enter-键选择默认的第-1-项">✅ <strong>直接按下 <code>Enter</code> 键</strong>（选择默认的第 1 项）</a></h2>
<p>也就是：</p>
<pre><code>1) Proceed with standard installation (default - just press enter)
</code></pre>
<p><strong>不要输入数字</strong>，直接敲 <strong>Enter</strong>，Rust 就会开始自动安装。</p>
<hr />
<h2 id="-安装说明解读一下你看到的内容"><a class="header" href="#-安装说明解读一下你看到的内容">🧠 安装说明解读一下你看到的内容：</a></h2>
<ul>
<li>
<p>✅ Rust 将安装到：</p>
<pre><code>C:\Users\lenovo\.cargo
</code></pre>
</li>
<li>
<p>✅ 所有命令（如 <code>cargo</code>, <code>rustc</code>）都会放在：</p>
<pre><code>C:\Users\lenovo\.cargo\bin
</code></pre>
</li>
<li>
<p>✅ 安装器会自动将这个路径加到你的系统环境变量 <code>PATH</code> 中（你无需手动操作）</p>
</li>
</ul>
<hr />
<h2 id="-安装完成后-1"><a class="header" href="#-安装完成后-1">⏳ 安装完成后</a></h2>
<p>等待安装完成，大概需要几分钟（视网速而定），然后你会看到如下提示：</p>
<pre><code>Rust is installed now. Great!

To get started you may need to restart your shell.
</code></pre>
<hr />
<h2 id="-最后验证关键"><a class="header" href="#-最后验证关键">✅ 最后验证（关键）</a></h2>
<p>关闭当前窗口，<strong>重新打开 CMD 或 PowerShell</strong>，然后输入：</p>
<pre><code class="language-bash">cargo --version
rustc --version
</code></pre>
<p>如果出现类似输出：</p>
<pre><code>cargo 1.78.0
rustc 1.78.0
</code></pre>
<p>就表示一切配置完成，可以使用 Rust 和 mdBook 了！</p>
<hr />
<p>下一步你可以继续：</p>
<pre><code class="language-bash">cargo install mdbook
cargo install mdbook-katex
</code></pre>
<p>要我帮你一起执行、解释后续 mdBook 配置吗？也可以一步步教你写数学公式的 md 文件。只要你说。</p>
<hr />
<h2 id="额外建议"><a class="header" href="#额外建议">额外建议</a></h2>
<ul>
<li>安装 VS 或构建工具时，最好关闭杀毒软件，避免安装中断。</li>
<li>Rust 默认使用 MSVC 工具链，只要安装对应工具，Rust 就可以正常编译。</li>
<li>你也可以用 VS Code 打开 Rust 项目，<code>rust-analyzer</code> 会提示你缺少构建工具。</li>
</ul>
<hr />
<p>太好了，我们现在正式进入你关心的核心内容：</p>
<hr />
<h1 id="-配置-mdbook-并支持数学公式katex"><a class="header" href="#-配置-mdbook-并支持数学公式katex">🦀 配置 mdBook 并支持数学公式（KaTeX）</a></h1>
<p>我们一起来执行、配置，并解释每一步。</p>
<hr />
<h2 id="-第-1-步安装-mdbook"><a class="header" href="#-第-1-步安装-mdbook">✅ 第 1 步：安装 <code>mdBook</code></a></h2>
<h3 id="在-cmd-或-powershell-中输入"><a class="header" href="#在-cmd-或-powershell-中输入">在 CMD 或 PowerShell 中输入：</a></h3>
<pre><code class="language-bash">cargo install mdbook
</code></pre>
<p>🔧 这会安装 <code>mdbook</code> 命令，等它显示：</p>
<pre><code>Installing mdbook v0.x.x
...
Finished release [optimized] target(s)
</code></pre>
<p>然后检查是否安装成功：</p>
<pre><code class="language-bash">mdbook --version
</code></pre>
<p>✅ 有版本号输出表示安装成功。</p>
<hr />
<h2 id="-第-2-步创建一个-mdbook-项目"><a class="header" href="#-第-2-步创建一个-mdbook-项目">✅ 第 2 步：创建一个 mdBook 项目</a></h2>
<p>你可以先建个新目录：</p>
<pre><code class="language-bash">mdbook init my-math-book
cd my-math-book
</code></pre>
<p>然后运行：</p>
<pre><code class="language-bash">mdbook serve
</code></pre>
<p>浏览器会打开：<a href="http://localhost:3000">http://localhost:3000</a>
看到 mdBook 页面，表示基本框架已成功！</p>
<hr />
<h2 id="-第-3-步安装数学公式支持插件-mdbook-katex"><a class="header" href="#-第-3-步安装数学公式支持插件-mdbook-katex">✅ 第 3 步：安装数学公式支持插件 <code>mdbook-katex</code></a></h2>
<pre><code class="language-bash">cargo install mdbook-katex
</code></pre>
<p>这是让你能用 <code>$E=mc^2$</code> 或 <code>$$公式$$</code> 来写数学公式的关键。</p>
<hr />
<h2 id="-第-4-步配置-booktoml"><a class="header" href="#-第-4-步配置-booktoml">✅ 第 4 步：配置 <code>book.toml</code></a></h2>
<p>找到项目目录里的 <code>book.toml</code> 文件（就在 <code>my-math-book/</code> 下），打开并添加以下内容：</p>
<pre><code class="language-toml">[book]
title = "我的数学书"
authors = ["你的名字"]

[output.html]

[preprocessor.katex]
</code></pre>
<p>这段 <code>[preprocessor.katex]</code> 是启用数学公式渲染的关键。</p>
<hr />
<h2 id="-第-5-步写一个带公式的-markdown-文件"><a class="header" href="#-第-5-步写一个带公式的-markdown-文件">✅ 第 5 步：写一个带公式的 Markdown 文件</a></h2>
<p>打开 <code>src/SUMMARY.md</code>，链接一个新章节：</p>
<pre><code class="language-markdown"># Summary

- [介绍](introduction.md)
</code></pre>
<p>然后新建 <code>src/introduction.md</code>，写入：</p>
<pre><code class="language-markdown"># 数学公式测试

这是一个行内公式：$E = mc^2$

这是一个块级公式：

$$
\int_0^1 x^2 \, dx = \frac{1}{3}
$$
</code></pre>
<hr />
<h2 id="-第-6-步运行并预览"><a class="header" href="#-第-6-步运行并预览">✅ 第 6 步：运行并预览</a></h2>
<p>在项目目录下运行：</p>
<pre><code class="language-bash">mdbook serve
</code></pre>
<p>然后访问 <a href="http://localhost:3000">http://localhost:3000</a> 查看效果！</p>
<p>你应该会看到公式已经被漂亮地渲染出来 ✅</p>
<hr />
<h2 id="-常见错误排查"><a class="header" href="#-常见错误排查">❗ 常见错误排查</a></h2>
<div class="table-wrapper"><table><thead><tr><th>问题</th><th>解决办法</th></tr></thead><tbody>
<tr><td>数学公式没渲染</td><td>检查 <code>book.toml</code> 中是否包含 <code>[preprocessor.katex]</code></td></tr>
<tr><td>运行时无 katex 插件生效提示</td><td>确保你运行的是 <code>mdbook serve</code>，不是 VSCode 的 Markdown 预览</td></tr>
<tr><td>页面加载失败</td><td>检查是否在项目目录中运行 <code>mdbook serve</code></td></tr>
</tbody></table>
</div>
<hr />
<h2 id="-后续你可以做的"><a class="header" href="#-后续你可以做的">✅ 后续你可以做的</a></h2>
<ul>
<li>添加更多页面、章节（只需修改 <code>SUMMARY.md</code>）</li>
<li>支持图表（可以安装 <code>mdbook-mermaid</code>）</li>
<li>自定义主题风格</li>
</ul>
<hr />
<p>然后测试安装是否成功：</p>
<pre><code class="language-bash">rustc --version
cargo --version
</code></pre>
<hr />
<pre><code>









---

## 🛠 第 3 步：可选工具推荐

| 工具              | 用途                  | 安装方法                           |
| --------------- | ------------------- | ------------------------------ |
| `rust-analyzer` | 编辑器代码提示（VS Code 推荐） | 在 VS Code 插件市场安装               |
| `clippy`        | 代码风格检查              | `rustup component add clippy`  |
| `rustfmt`       | 自动格式化代码             | `rustup component add rustfmt` |

---

## 🧠 附：卸载 Rust

若需要卸载，可执行：

```bash
rustup self uninstall
</code></pre>
<hr />
<h2 id="-教程推荐中文"><a class="header" href="#-教程推荐中文">🧭 教程推荐（中文）</a></h2>
<ul>
<li><a href="https://rustwiki.org/zh-CN/book/">Rust官方中文文档</a>（也叫“Rust 程序设计语言”）</li>
<li><a href="https://rustwiki.org/zh-CN/rust-by-example/">Rust by Example 中文版</a></li>
</ul>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/extra.js"></script>
        <script src="theme/pagetoc.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
